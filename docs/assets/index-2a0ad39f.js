var bn=Object.defineProperty;var vn=(t,e,n)=>e in t?bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var at=(t,e,n)=>(vn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function ie(){}const an=t=>t;function dn(t){return t()}function vt(){return Object.create(null)}function ge(t){t.forEach(dn)}function Ge(t){return typeof t=="function"}function Ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let lt;function kn(t,e){return t===e?!0:(lt||(lt=document.createElement("a")),lt.href=e,t===lt.href)}function yn(t){return Object.keys(t).length===0}function wn(t,...e){if(t==null){for(const i of e)i(void 0);return ie}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function _t(t,e,n){t.$$.on_destroy.push(wn(e,n))}const fn=typeof window<"u";let Cn=fn?()=>window.performance.now():()=>Date.now(),mt=fn?t=>requestAnimationFrame(t):ie;const Ye=new Set;function hn(t){Ye.forEach(e=>{e.c(t)||(Ye.delete(e),e.f())}),Ye.size!==0&&mt(hn)}function In(t){let e;return Ye.size===0&&mt(hn),{promise:new Promise(n=>{Ye.add(e={c:t,f:n})}),abort(){Ye.delete(e)}}}function s(t,e){t.appendChild(e)}function pn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function An(t){const e=p("style");return e.textContent="/* empty */",qn(pn(t),e),e.sheet}function qn(t,e){return s(t.head||t,e),e.sheet}function W(t,e,n){t.insertBefore(e,n||null)}function K(t){t.parentNode&&t.parentNode.removeChild(t)}function Le(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function ee(t){return document.createTextNode(t)}function L(){return ee(" ")}function gt(){return ee("")}function z(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function Sn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function C(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ln(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.data!==e&&(t.data=e)}function ne(t,e){t.value=e??""}function tt(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Se(t,e,n){for(let i=0;i<t.options.length;i+=1){const l=t.options[i];if(l.__value===e){l.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ze(t){const e=t.querySelector(":checked");return e&&e.__value}function _n(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}const st=new Map;let rt=0;function En(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function On(t,e){const n={stylesheet:An(e),rules:{}};return st.set(t,n),n}function Mn(t,e,n,i,l,o,u,f=0){const r=16.666/i;let c=`{
`;for(let g=0;g<=1;g+=r){const y=e+(n-e)*o(g);c+=g*100+`%{${u(y,1-y)}}
`}const b=c+`100% {${u(n,1-n)}}
}`,v=`__svelte_${En(b)}_${f}`,d=pn(t),{stylesheet:m,rules:k}=st.get(d)||On(d,t);k[v]||(k[v]=!0,m.insertRule(`@keyframes ${v} ${b}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${v} ${i}ms linear ${l}ms 1 both`,rt+=1,v}function kt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),l=n.length-i.length;l&&(t.style.animation=i.join(", "),rt-=l,rt||Tn())}function Tn(){mt(()=>{rt||(st.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&K(e)}),st.clear())})}let nt;function et(t){nt=t}function Pn(){if(!nt)throw new Error("Function called outside component initialization");return nt}function Ke(){const t=Pn();return(e,n,{cancelable:i=!1}={})=>{const l=t.$$.callbacks[e];if(l){const o=_n(e,n,{cancelable:i});return l.slice().forEach(u=>{u.call(t,o)}),!o.defaultPrevented}return!0}}const Ve=[],ft=[];let Qe=[];const ht=[],jn=Promise.resolve();let pt=!1;function Rn(){pt||(pt=!0,jn.then(mn))}function ve(t){Qe.push(t)}function Dn(t){ht.push(t)}const dt=new Set;let We=0;function mn(){if(We!==0)return;const t=nt;do{try{for(;We<Ve.length;){const e=Ve[We];We++,et(e),Fn(e.$$)}}catch(e){throw Ve.length=0,We=0,e}for(et(null),Ve.length=0,We=0;ft.length;)ft.pop()();for(let e=0;e<Qe.length;e+=1){const n=Qe[e];dt.has(n)||(dt.add(n),n())}Qe.length=0}while(Ve.length);for(;ht.length;)ht.pop()();pt=!1,dt.clear(),et(t)}function Fn(t){if(t.fragment!==null){t.update(),ge(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ve)}}function Un(t){const e=[],n=[];Qe.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Qe=e}let $e;function Nn(){return $e||($e=Promise.resolve(),$e.then(()=>{$e=null})),$e}function yt(t,e,n){t.dispatchEvent(_n(`${e?"intro":"outro"}${n}`))}const ot=new Set;let Be;function Ne(){Be={r:0,c:[],p:Be}}function He(){Be.r||ge(Be.c),Be=Be.p}function Q(t,e){t&&t.i&&(ot.delete(t),t.i(e))}function ae(t,e,n,i){if(t&&t.o){if(ot.has(t))return;ot.add(t),Be.c.push(()=>{ot.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Hn={duration:0};function Xe(t,e,n){const i={direction:"in"};let l=e(t,n,i),o=!1,u,f,r=0;function c(){u&&kt(t,u)}function b(){const{delay:d=0,duration:m=300,easing:k=an,tick:_=ie,css:g}=l||Hn;g&&(u=Mn(t,0,1,m,d,k,g,r++)),_(0,1);const y=Cn()+d,w=y+m;f&&f.abort(),o=!0,ve(()=>yt(t,!0,"start")),f=In(q=>{if(o){if(q>=w)return _(1,0),yt(t,!0,"end"),c(),o=!1;if(q>=y){const H=k((q-y)/m);_(H,1-H)}}return o})}let v=!1;return{start(){v||(v=!0,kt(t),Ge(l)?(l=l(i),Nn().then(b)):b())},invalidate(){v=!1},end(){o&&(c(),o=!1)}}}function pe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Kn(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Re(t){t&&t.c()}function Oe(t,e,n){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),ve(()=>{const o=t.$$.on_mount.map(dn).filter(Ge);t.$$.on_destroy?t.$$.on_destroy.push(...o):ge(o),t.$$.on_mount=[]}),l.forEach(ve)}function Me(t,e){const n=t.$$;n.fragment!==null&&(Un(n.after_update),ge(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function zn(t,e){t.$$.dirty[0]===-1&&(Ve.push(t),Rn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Te(t,e,n,i,l,o,u,f=[-1]){const r=nt;et(t);const c=t.$$={fragment:null,ctx:[],props:o,update:ie,not_equal:l,bound:vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:vt(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};u&&u(c.root);let b=!1;if(c.ctx=n?n(t,e.props||{},(v,d,...m)=>{const k=m.length?m[0]:d;return c.ctx&&l(c.ctx[v],c.ctx[v]=k)&&(!c.skip_bound&&c.bound[v]&&c.bound[v](k),b&&zn(t,v)),d}):[],c.update(),b=!0,ge(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const v=Ln(e.target);c.fragment&&c.fragment.l(v),v.forEach(K)}else c.fragment&&c.fragment.c();e.intro&&Q(t.$$.fragment),Oe(t,e.target,e.anchor),mn()}et(r)}class Pe{constructor(){at(this,"$$");at(this,"$$set")}$destroy(){Me(this,1),this.$destroy=ie}$on(e,n){if(!Ge(n))return ie;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!yn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Bn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Bn);var Wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gn={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,i){t.exports=i()})(Wn,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},l=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,u={},f=0,r={parse:function(a,h){var S=(h=h||{}).dynamicTyping||!1;if(J(S)&&(h.dynamicTypingFunction=S,S={}),h.dynamicTyping=S,h.transform=!!J(h.transform)&&h.transform,h.worker&&r.WORKERS_SUPPORTED){var M=function(){if(!r.WORKERS_SUPPORTED)return!1;var I=(te=i.URL||i.webkitURL||null,x=n.toString(),r.BLOB_URL||(r.BLOB_URL=te.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",x,")();"],{type:"text/javascript"})))),P=new i.Worker(I),te,x;return P.onmessage=w,P.id=f++,u[P.id]=P}();return M.userStep=h.step,M.userChunk=h.chunk,M.userComplete=h.complete,M.userError=h.error,h.step=J(h.step),h.chunk=J(h.chunk),h.complete=J(h.complete),h.error=J(h.error),delete h.worker,void M.postMessage({input:a,config:h,workerId:M.id})}var T=null;return r.NODE_STREAM_INPUT,typeof a=="string"?(a=function(I){return I.charCodeAt(0)===65279?I.slice(1):I}(a),T=h.download?new v(h):new m(h)):a.readable===!0&&J(a.read)&&J(a.on)?T=new k(h):(i.File&&a instanceof File||a instanceof Object)&&(T=new d(h)),T.stream(a)},unparse:function(a,h){var S=!1,M=!0,T=",",I=`\r
`,P='"',te=P+P,x=!1,j=null,Z=!1;(function(){if(typeof h=="object"){if(typeof h.delimiter!="string"||r.BAD_DELIMITERS.filter(function(A){return h.delimiter.indexOf(A)!==-1}).length||(T=h.delimiter),(typeof h.quotes=="boolean"||typeof h.quotes=="function"||Array.isArray(h.quotes))&&(S=h.quotes),typeof h.skipEmptyLines!="boolean"&&typeof h.skipEmptyLines!="string"||(x=h.skipEmptyLines),typeof h.newline=="string"&&(I=h.newline),typeof h.quoteChar=="string"&&(P=h.quoteChar),typeof h.header=="boolean"&&(M=h.header),Array.isArray(h.columns)){if(h.columns.length===0)throw new Error("Option columns is empty");j=h.columns}h.escapeChar!==void 0&&(te=h.escapeChar+P),(typeof h.escapeFormulae=="boolean"||h.escapeFormulae instanceof RegExp)&&(Z=h.escapeFormulae instanceof RegExp?h.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var U=new RegExp(g(P),"g");if(typeof a=="string"&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return G(null,a,x);if(typeof a[0]=="object")return G(j||Object.keys(a[0]),a,x)}else if(typeof a=="object")return typeof a.data=="string"&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||j),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:typeof a.data[0]=="object"?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||typeof a.data[0]=="object"||(a.data=[a.data])),G(a.fields||[],a.data||[],x);throw new Error("Unable to serialize unrecognized input");function G(A,V,Y){var F="";typeof A=="string"&&(A=JSON.parse(A)),typeof V=="string"&&(V=JSON.parse(V));var O=Array.isArray(A)&&0<A.length,B=!Array.isArray(V[0]);if(O&&M){for(var E=0;E<A.length;E++)0<E&&(F+=T),F+=N(A[E],E);0<V.length&&(F+=I)}for(var R=0;R<V.length;R++){var D=O?A.length:V[R].length,le=!1,ue=O?Object.keys(V[R]).length===0:V[R].length===0;if(Y&&!O&&(le=Y==="greedy"?V[R].join("").trim()==="":V[R].length===1&&V[R][0].length===0),Y==="greedy"&&O){for(var oe=[],be=0;be<D;be++){var de=B?A[be]:be;oe.push(V[R][de])}le=oe.join("").trim()===""}if(!le){for(var re=0;re<D;re++){0<re&&!ue&&(F+=T);var we=O&&B?A[re]:re;F+=N(V[R][we],re)}R<V.length-1&&(!Y||0<D&&!ue)&&(F+=I)}}return F}function N(A,V){if(A==null)return"";if(A.constructor===Date)return JSON.stringify(A).slice(1,25);var Y=!1;Z&&typeof A=="string"&&Z.test(A)&&(A="'"+A,Y=!0);var F=A.toString().replace(U,te);return(Y=Y||S===!0||typeof S=="function"&&S(A,V)||Array.isArray(S)&&S[V]||function(O,B){for(var E=0;E<B.length;E++)if(-1<O.indexOf(B[E]))return!0;return!1}(F,r.BAD_DELIMITERS)||-1<F.indexOf(T)||F.charAt(0)===" "||F.charAt(F.length-1)===" ")?P+F+P:F}}};if(r.RECORD_SEP=String.fromCharCode(30),r.UNIT_SEP=String.fromCharCode(31),r.BYTE_ORDER_MARK="\uFEFF",r.BAD_DELIMITERS=["\r",`
`,'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!l&&!!i.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=y,r.ParserHandle=_,r.NetworkStreamer=v,r.FileStreamer=d,r.StringStreamer=m,r.ReadableStreamStreamer=k,i.jQuery){var c=i.jQuery;c.fn.parse=function(a){var h=a.config||{},S=[];return this.each(function(I){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)S.push({file:this.files[P],inputElem:this,instanceConfig:c.extend({},h)})}),M(),this;function M(){if(S.length!==0){var I,P,te,x,j=S[0];if(J(a.before)){var Z=a.before(j.file,j.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return I="AbortError",P=j.file,te=j.inputElem,x=Z.reason,void(J(a.error)&&a.error({name:I},P,te,x));if(Z.action==="skip")return void T();typeof Z.config=="object"&&(j.instanceConfig=c.extend(j.instanceConfig,Z.config))}else if(Z==="skip")return void T()}var U=j.instanceConfig.complete;j.instanceConfig.complete=function(G){J(U)&&U(G,j.file,j.inputElem),T()},r.parse(j.file,j.instanceConfig)}else J(a.complete)&&a.complete()}function T(){S.splice(0,1),M()}}}function b(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(h){var S=$(h);S.chunkSize=parseInt(S.chunkSize),h.step||h.chunk||(S.chunkSize=null),this._handle=new _(S),(this._handle.streamer=this)._config=S}).call(this,a),this.parseChunk=function(h,S){if(this.isFirstChunk&&J(this._config.beforeFirstChunk)){var M=this._config.beforeFirstChunk(h);M!==void 0&&(h=M)}this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+h;this._partialLine="";var I=this._handle.parse(T,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var P=I.meta.cursor;this._finished||(this._partialLine=T.substring(P-this._baseIndex),this._baseIndex=P),I&&I.data&&(this._rowCount+=I.data.length);var te=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)i.postMessage({results:I,workerId:r.WORKER_ID,finished:te});else if(J(this._config.chunk)&&!S){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);I=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!te||!J(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),te||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(h){J(this._config.error)?this._config.error(h):o&&this._config.error&&i.postMessage({workerId:r.WORKER_ID,error:h,finished:!1})}}function v(a){var h;(a=a||{}).chunkSize||(a.chunkSize=r.RemoteChunkSize),b.call(this,a),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(h=new XMLHttpRequest,this._config.withCredentials&&(h.withCredentials=this._config.withCredentials),l||(h.onload=X(this._chunkLoaded,this),h.onerror=X(this._chunkError,this)),h.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var S=this._config.downloadRequestHeaders;for(var M in S)h.setRequestHeader(M,S[M])}if(this._config.chunkSize){var T=this._start+this._config.chunkSize-1;h.setRequestHeader("Range","bytes="+this._start+"-"+T)}try{h.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}l&&h.status===0&&this._chunkError()}},this._chunkLoaded=function(){h.readyState===4&&(h.status<200||400<=h.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:h.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(S){var M=S.getResponseHeader("Content-Range");return M===null?-1:parseInt(M.substring(M.lastIndexOf("/")+1))}(h),this.parseChunk(h.responseText)))},this._chunkError=function(S){var M=h.statusText||S;this._sendError(new Error(M))}}function d(a){var h,S;(a=a||{}).chunkSize||(a.chunkSize=r.LocalChunkSize),b.call(this,a);var M=typeof FileReader<"u";this.stream=function(T){this._input=T,S=T.slice||T.webkitSlice||T.mozSlice,M?((h=new FileReader).onload=X(this._chunkLoaded,this),h.onerror=X(this._chunkError,this)):h=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input;if(this._config.chunkSize){var I=Math.min(this._start+this._config.chunkSize,this._input.size);T=S.call(T,this._start,I)}var P=h.readAsText(T,this._config.encoding);M||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(h.error)}}function m(a){var h;b.call(this,a=a||{}),this.stream=function(S){return h=S,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var S,M=this._config.chunkSize;return M?(S=h.substring(0,M),h=h.substring(M)):(S=h,h=""),this._finished=!h,this.parseChunk(S)}}}function k(a){b.call(this,a=a||{});var h=[],S=!0,M=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&h.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),h.length?this.parseChunk(h.shift()):S=!0},this._streamData=X(function(T){try{h.push(typeof T=="string"?T:T.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(h.shift()))}catch(I){this._streamError(I)}},this),this._streamError=X(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=X(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(a){var h,S,M,T=Math.pow(2,53),I=-T,P=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,te=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,x=this,j=0,Z=0,U=!1,G=!1,N=[],A={data:[],errors:[],meta:{}};if(J(a.step)){var V=a.step;a.step=function(R){if(A=R,O())F();else{if(F(),A.data.length===0)return;j+=R.data.length,a.preview&&j>a.preview?S.abort():(A.data=A.data[0],V(A,x))}}}function Y(R){return a.skipEmptyLines==="greedy"?R.join("").trim()==="":R.length===1&&R[0].length===0}function F(){return A&&M&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),M=!1),a.skipEmptyLines&&(A.data=A.data.filter(function(R){return!Y(R)})),O()&&function(){if(!A)return;function R(le,ue){J(a.transformHeader)&&(le=a.transformHeader(le,ue)),N.push(le)}if(Array.isArray(A.data[0])){for(var D=0;O()&&D<A.data.length;D++)A.data[D].forEach(R);A.data.splice(0,1)}else A.data.forEach(R)}(),function(){if(!A||!a.header&&!a.dynamicTyping&&!a.transform)return A;function R(le,ue){var oe,be=a.header?{}:[];for(oe=0;oe<le.length;oe++){var de=oe,re=le[oe];a.header&&(de=oe>=N.length?"__parsed_extra":N[oe]),a.transform&&(re=a.transform(re,de)),re=B(de,re),de==="__parsed_extra"?(be[de]=be[de]||[],be[de].push(re)):be[de]=re}return a.header&&(oe>N.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+N.length+" fields but parsed "+oe,Z+ue):oe<N.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+N.length+" fields but parsed "+oe,Z+ue)),be}var D=1;return!A.data.length||Array.isArray(A.data[0])?(A.data=A.data.map(R),D=A.data.length):A.data=R(A.data,0),a.header&&A.meta&&(A.meta.fields=N),Z+=D,A}()}function O(){return a.header&&N.length===0}function B(R,D){return le=R,a.dynamicTypingFunction&&a.dynamicTyping[le]===void 0&&(a.dynamicTyping[le]=a.dynamicTypingFunction(le)),(a.dynamicTyping[le]||a.dynamicTyping)===!0?D==="true"||D==="TRUE"||D!=="false"&&D!=="FALSE"&&(function(ue){if(P.test(ue)){var oe=parseFloat(ue);if(I<oe&&oe<T)return!0}return!1}(D)?parseFloat(D):te.test(D)?new Date(D):D===""?null:D):D;var le}function E(R,D,le,ue){var oe={type:R,code:D,message:le};ue!==void 0&&(oe.row=ue),A.errors.push(oe)}this.parse=function(R,D,le){var ue=a.quoteChar||'"';if(a.newline||(a.newline=function(de,re){de=de.substring(0,1048576);var we=new RegExp(g(re)+"([^]*?)"+g(re),"gm"),ke=(de=de.replace(we,"")).split("\r"),Ce=de.split(`
`),Ie=1<Ce.length&&Ce[0].length<ke[0].length;if(ke.length===1||Ie)return`
`;for(var ye=0,ce=0;ce<ke.length;ce++)ke[ce][0]===`
`&&ye++;return ye>=ke.length/2?`\r
`:"\r"}(R,ue)),M=!1,a.delimiter)J(a.delimiter)&&(a.delimiter=a.delimiter(R),A.meta.delimiter=a.delimiter);else{var oe=function(de,re,we,ke,Ce){var Ie,ye,ce,fe;Ce=Ce||[",","	","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var je=0;je<Ce.length;je++){var se=Ce[je],he=0,_e=0,ze=0;ce=void 0;for(var De=new y({comments:ke,delimiter:se,newline:re,preview:10}).parse(de),Fe=0;Fe<De.data.length;Fe++)if(we&&Y(De.data[Fe]))ze++;else{var Ue=De.data[Fe].length;_e+=Ue,ce!==void 0?0<Ue&&(he+=Math.abs(Ue-ce),ce=Ue):ce=Ue}0<De.data.length&&(_e/=De.data.length-ze),(ye===void 0||he<=ye)&&(fe===void 0||fe<_e)&&1.99<_e&&(ye=he,Ie=se,fe=_e)}return{successful:!!(a.delimiter=Ie),bestDelimiter:Ie}}(R,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess);oe.successful?a.delimiter=oe.bestDelimiter:(M=!0,a.delimiter=r.DefaultDelimiter),A.meta.delimiter=a.delimiter}var be=$(a);return a.preview&&a.header&&be.preview++,h=R,S=new y(be),A=S.parse(h,D,le),F(),U?{meta:{paused:!0}}:A||{meta:{paused:!1}}},this.paused=function(){return U},this.pause=function(){U=!0,S.abort(),h=J(a.chunk)?"":h.substring(S.getCharIndex())},this.resume=function(){x.streamer._halted?(U=!1,x.streamer.parseChunk(h,!0)):setTimeout(x.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,S.abort(),A.meta.aborted=!0,J(a.complete)&&a.complete(A),h=""}}function g(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(a){var h,S=(a=a||{}).delimiter,M=a.newline,T=a.comments,I=a.step,P=a.preview,te=a.fastMode,x=h=a.quoteChar===void 0||a.quoteChar===null?'"':a.quoteChar;if(a.escapeChar!==void 0&&(x=a.escapeChar),(typeof S!="string"||-1<r.BAD_DELIMITERS.indexOf(S))&&(S=","),T===S)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<r.BAD_DELIMITERS.indexOf(T))&&(T=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var j=0,Z=!1;this.parse=function(U,G,N){if(typeof U!="string")throw new Error("Input must be a string");var A=U.length,V=S.length,Y=M.length,F=T.length,O=J(I),B=[],E=[],R=[],D=j=0;if(!U)return Ae();if(a.header&&!G){var le=U.split(M)[0].split(S),ue=[],oe={},be=!1;for(var de in le){var re=le[de];J(a.transformHeader)&&(re=a.transformHeader(re,de));var we=re,ke=oe[re]||0;for(0<ke&&(be=!0,we=re+"_"+ke),oe[re]=ke+1;ue.includes(we);)we=we+"_"+ke;ue.push(we)}if(be){var Ce=U.split(M);Ce[0]=ue.join(S),U=Ce.join(M)}}if(te||te!==!1&&U.indexOf(h)===-1){for(var Ie=U.split(M),ye=0;ye<Ie.length;ye++){if(R=Ie[ye],j+=R.length,ye!==Ie.length-1)j+=M.length;else if(N)return Ae();if(!T||R.substring(0,F)!==T){if(O){if(B=[],ze(R.split(S)),it(),Z)return Ae()}else ze(R.split(S));if(P&&P<=ye)return B=B.slice(0,P),Ae(!0)}}return Ae()}for(var ce=U.indexOf(S,j),fe=U.indexOf(M,j),je=new RegExp(g(x)+g(h),"g"),se=U.indexOf(h,j);;)if(U[j]!==h)if(T&&R.length===0&&U.substring(j,j+F)===T){if(fe===-1)return Ae();j=fe+Y,fe=U.indexOf(M,j),ce=U.indexOf(S,j)}else if(ce!==-1&&(ce<fe||fe===-1))R.push(U.substring(j,ce)),j=ce+V,ce=U.indexOf(S,j);else{if(fe===-1)break;if(R.push(U.substring(j,fe)),Ue(fe+Y),O&&(it(),Z))return Ae();if(P&&B.length>=P)return Ae(!0)}else for(se=j,j++;;){if((se=U.indexOf(h,se+1))===-1)return N||E.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:B.length,index:j}),Fe();if(se===A-1)return Fe(U.substring(j,se).replace(je,h));if(h!==x||U[se+1]!==x){if(h===x||se===0||U[se-1]!==x){ce!==-1&&ce<se+1&&(ce=U.indexOf(S,se+1)),fe!==-1&&fe<se+1&&(fe=U.indexOf(M,se+1));var he=De(fe===-1?ce:Math.min(ce,fe));if(U.substr(se+1+he,V)===S){R.push(U.substring(j,se).replace(je,h)),U[j=se+1+he+V]!==h&&(se=U.indexOf(h,j)),ce=U.indexOf(S,j),fe=U.indexOf(M,j);break}var _e=De(fe);if(U.substring(se+1+_e,se+1+_e+Y)===M){if(R.push(U.substring(j,se).replace(je,h)),Ue(se+1+_e+Y),ce=U.indexOf(S,j),se=U.indexOf(h,j),O&&(it(),Z))return Ae();if(P&&B.length>=P)return Ae(!0);break}E.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:B.length,index:j}),se++}}else se++}return Fe();function ze(qe){B.push(qe),D=j}function De(qe){var bt=0;if(qe!==-1){var ut=U.substring(se+1,qe);ut&&ut.trim()===""&&(bt=ut.length)}return bt}function Fe(qe){return N||(qe===void 0&&(qe=U.substring(j)),R.push(qe),j=A,ze(R),O&&it()),Ae()}function Ue(qe){j=qe,ze(R),R=[],fe=U.indexOf(M,j)}function Ae(qe){return{data:B,errors:E,meta:{delimiter:S,linebreak:M,aborted:Z,truncated:!!qe,cursor:D+(G||0)}}}function it(){I(Ae()),B=[],E=[]}},this.abort=function(){Z=!0},this.getCharIndex=function(){return j}}function w(a){var h=a.data,S=u[h.workerId],M=!1;if(h.error)S.userError(h.error,h.file);else if(h.results&&h.results.data){var T={abort:function(){M=!0,q(h.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:H,resume:H};if(J(S.userStep)){for(var I=0;I<h.results.data.length&&(S.userStep({data:h.results.data[I],errors:h.results.errors,meta:h.results.meta},T),!M);I++);delete h.results}else J(S.userChunk)&&(S.userChunk(h.results,T,h.file),delete h.results)}h.finished&&!M&&q(h.workerId,h.results)}function q(a,h){var S=u[a];J(S.userComplete)&&S.userComplete(h),S.terminate(),delete u[a]}function H(){throw new Error("Not implemented.")}function $(a){if(typeof a!="object"||a===null)return a;var h=Array.isArray(a)?[]:{};for(var S in a)h[S]=$(a[S]);return h}function X(a,h){return function(){a.apply(h,arguments)}}function J(a){return typeof a=="function"}return o&&(i.onmessage=function(a){var h=a.data;if(r.WORKER_ID===void 0&&h&&(r.WORKER_ID=h.workerId),typeof h.input=="string")i.postMessage({workerId:r.WORKER_ID,results:r.parse(h.input,h.config),finished:!0});else if(i.File&&h.input instanceof File||h.input instanceof Object){var S=r.parse(h.input,h.config);S&&i.postMessage({workerId:r.WORKER_ID,results:S,finished:!0})}}),(v.prototype=Object.create(b.prototype)).constructor=v,(d.prototype=Object.create(b.prototype)).constructor=d,(m.prototype=Object.create(m.prototype)).constructor=m,(k.prototype=Object.create(b.prototype)).constructor=k,r})})(gn);var Vn=gn.exports;const Yn=Jn(Vn);function Qn(t){let e,n,i,l,o,u,f,r;return{c(){e=p("div"),e.innerHTML="<p>Consequence Scanning is a way for organisations to think about the potential impact of their product or service on people and society. With Consequence Scanning, organisations will be able to anticipate and address concerns they might have early on in the development cycle, before the final product is shipped. </p> <p>Through Consequence Scanning, you consider the potential consequences of what you’re building and document the potential outcomes in order to provide you with the opportunity to mitigate or address potential harms or disasters before they happen. </p> <p><strong>[Video Overview]</strong></p>",n=L(),i=p("div"),i.innerHTML='<div class="card card-long-text"><h2>How to use the tool</h2> <p>There are two routes through the tool:</p> <ul><li><strong>Select from example case studies:</strong><p>learn more about Consequence Scanning by selecting one of our example case studies and carry out a hypothetical Consequence Scanning activity to learn more about the process and how it can support your professional practice.</p></li> <li><strong>Start a new project: </strong><p>follow the steps in the interactive tool to carry review your own project and work toward outputting a project overview and accompanying risk log that can be used within your own project processes as you plan your backlog and upcoming actions.</p></li></ul></div> <div class="card card-long-text"><h2>Supported by AI</h2> <div class="vertical-align"><p>The tool uses a ChatGPT plugin to assist you in the process of Consequence Scanning. At several steps throughout the tool you will have the option to generate suggestions and ideas for your project in order to help you capture the potential consequences and suggest appropriate actions.</p></div></div>',l=L(),o=p("div"),u=p("button"),u.textContent="Begin",C(e,"class","card card-long-text"),C(i,"class","grid-two-by-two svelte-mhql5r"),C(u,"class","btn-white-styled"),C(o,"class","btn-white-styled-container")},m(c,b){W(c,e,b),W(c,n,b),W(c,i,b),W(c,l,b),W(c,o,b),s(o,u),f||(r=z(u,"click",t[0]),f=!0)},p:ie,i:ie,o:ie,d(c){c&&(K(e),K(n),K(i),K(l),K(o)),f=!1,r()}}}function Gn(t){const e=Ke();function n(){e("proceed")}return[n]}class Zn extends Pe{constructor(e){super(),Te(this,e,Gn,Qn,Ee,{})}}function Xn(t){let e,n,i,l,o,u,f,r,c,b,v,d,m,k;return{c(){e=p("div"),n=p("div"),n.innerHTML="<h3>Import your progress or start a new risk analysis</h3>",i=L(),l=p("div"),o=p("input"),u=L(),f=p("label"),r=p("button"),r.textContent="Continue previous project",c=L(),b=p("button"),b.textContent="Select from example case studies",v=L(),d=p("button"),d.textContent="Start a new project",C(n,"class","choose-header header-btn"),C(o,"type","file"),C(o,"id","caseStudyFile"),tt(o,"display","none"),C(r,"class","btn-white-styled"),C(f,"for","caseStudyFile"),C(b,"class","btn-white-styled"),C(d,"class","btn-white-styled"),C(l,"class","btn-white-styled-container"),C(e,"class","card")},m(_,g){W(_,e,g),s(e,n),s(e,i),s(e,l),s(l,o),s(l,u),s(l,f),s(f,r),s(l,c),s(l,b),s(l,v),s(l,d),m||(k=[z(o,"change",t[4]),z(o,"change",t[3]),z(r,"click",Sn(t[5])),z(b,"click",t[1]),z(d,"click",t[2])],m=!0)},p:ie,i:ie,o:ie,d(_){_&&K(e),m=!1,ge(k)}}}function xn(t,e,n){let{selectedFile:i}=e;const l=Ke();function o(){l("preLoadedSelection")}function u(){o()}function f(){l("newProject")}function r(v){const d=v.target.files[0];if(d){const m=new FileReader;m.onload=function(k){try{const _=JSON.parse(k.target.result);console.log("jsonData:",_),l("fileData",_)}catch(_){console.error("Error parsing JSON:",_)}},m.readAsText(d)}}function c(){i=this.files,n(0,i)}const b=()=>document.getElementById("caseStudyFile").click();return t.$$set=v=>{"selectedFile"in v&&n(0,i=v.selectedFile)},[i,u,f,r,c,b]}class $n extends Pe{constructor(e){super(),Te(this,e,xn,Xn,Ee,{selectedFile:0})}}function xe(t,{delay:e=0,duration:n=400,easing:i=an}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:o=>`opacity: ${o*l}`}}function wt(t,e,n){const i=t.slice();return i[6]=e[n],i}function Ct(t){let e,n,i,l,o,u,f,r;return{c(){e=p("div"),n=p("div"),i=p("span"),i.textContent="×",l=L(),o=p("p"),o.textContent="Input some text explaining this section",C(i,"class","close"),C(n,"class","modal-content"),C(e,"class","modal")},m(c,b){W(c,e,b),s(e,n),s(n,i),s(n,l),s(n,o),f||(r=z(i,"click",t[3]),f=!0)},p:ie,i(c){c&&(u||ve(()=>{u=Xe(e,xe,{duration:300}),u.start()}))},o:ie,d(c){c&&K(e),f=!1,r()}}}function It(t){let e,n,i,l=t[6]+"",o,u,f,r;function c(){return t[4](t[6])}return{c(){e=p("div"),n=p("li"),i=p("button"),o=ee(l),u=L(),C(i,"class","btn-white-styled"),C(e,"class","btn-white-styled-container")},m(b,v){W(b,e,v),s(e,n),s(n,i),s(i,o),s(e,u),f||(r=z(i,"click",c),f=!0)},p(b,v){t=b,v&1&&l!==(l=t[6]+"")&&me(o,l)},d(b){b&&K(e),f=!1,r()}}}function ei(t){let e,n,i,l,o,u,f,r,c,b,v=t[1]&&Ct(t),d=pe(t[0]),m=[];for(let k=0;k<d.length;k+=1)m[k]=It(wt(t,d,k));return{c(){e=p("div"),n=p("div"),i=p("h3"),i.textContent="Pick your case study",l=L(),o=p("button"),o.textContent="ℹ",u=L(),v&&v.c(),f=L(),r=p("ul");for(let k=0;k<m.length;k+=1)m[k].c();C(o,"class","info-button"),C(o,"title","Information"),C(n,"class","questions-header header-btn"),C(e,"class","card"),C(e,"id","Preloaded-studies")},m(k,_){W(k,e,_),s(e,n),s(n,i),s(n,l),s(n,o),s(n,u),v&&v.m(n,null),s(e,f),s(e,r);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(r,null);c||(b=z(o,"click",t[3]),c=!0)},p(k,[_]){if(k[1]?v?(v.p(k,_),_&2&&Q(v,1)):(v=Ct(k),v.c(),Q(v,1),v.m(n,null)):v&&(v.d(1),v=null),_&5){d=pe(k[0]);let g;for(g=0;g<d.length;g+=1){const y=wt(k,d,g);m[g]?m[g].p(y,_):(m[g]=It(y),m[g].c(),m[g].m(r,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=d.length}},i(k){Q(v)},o:ie,d(k){k&&K(e),v&&v.d(),Le(m,k),c=!1,b()}}}function ti(t,e,n){let{preLoadedStudies:i}=e;const l=Ke();function o(c){l("proceed",{study:c})}let u=!1;function f(){n(1,u=!u)}const r=c=>o(c);return t.$$set=c=>{"preLoadedStudies"in c&&n(0,i=c.preLoadedStudies)},[i,u,o,f,r]}class ni extends Pe{constructor(e){super(),Te(this,e,ti,ei,Ee,{preLoadedStudies:0})}}function At(t,e,n){const i=t.slice();return i[21]=e[n],i[22]=e,i[23]=n,i}function qt(t,e,n){const i=t.slice();return i[24]=e[n],i[25]=e,i[26]=n,i}function St(t){let e,n,i,l,o,u,f,r;return{c(){e=p("div"),n=p("div"),i=p("span"),i.textContent="×",l=L(),o=p("p"),o.textContent="Input some text explaining this section",C(i,"class","close"),C(n,"class","modal-content"),C(e,"class","modal")},m(c,b){W(c,e,b),s(e,n),s(n,i),s(n,l),s(n,o),f||(r=z(i,"click",t[10]),f=!0)},p:ie,i(c){c&&(u||ve(()=>{u=Xe(e,xe,{duration:300}),u.start()}))},o:ie,d(c){c&&K(e),f=!1,r()}}}function ii(t){let e,n;return{c(){e=p("h1"),n=ee(t[5])},m(i,l){W(i,e,l),s(e,n)},p(i,l){l&32&&me(n,i[5])},d(i){i&&K(e)}}}function li(t){let e,n,i;return{c(){e=p("input"),C(e,"type","text"),C(e,"placeholder","Enter title of project")},m(l,o){W(l,e,o),ne(e,t[5]),n||(i=[z(e,"input",t[14]),z(e,"keypress",t[9])],n=!0)},p(l,o){o&32&&e.value!==l[5]&&ne(e,l[5])},d(l){l&&K(e),n=!1,ge(i)}}}function Lt(t){let e,n,i,l,o,u,f;function r(){t[16].call(o,t[25],t[26])}return{c(){e=p("h3"),e.textContent=`Intended consequences ${t[26]+1}`,n=L(),i=p("div"),l=p("label"),o=p("textarea"),C(o,"class","textarea-padding"),C(o,"placeholder","Description"),C(l,"for","description"),C(i,"class","add-more-large svelte-1q711a9")},m(c,b){W(c,e,b),W(c,n,b),W(c,i,b),s(i,l),s(l,o),ne(o,t[24].description),u||(f=z(o,"input",r),u=!0)},p(c,b){t=c,b&4&&ne(o,t[24].description)},d(c){c&&(K(e),K(n),K(i)),u=!1,f()}}}function Et(t){let e,n,i,l,o,u,f,r,c;function b(){t[17].call(n,t[22],t[23])}function v(){t[18].call(l,t[22],t[23])}return{c(){e=p("div"),n=p("textarea"),i=L(),l=p("select"),o=p("option"),o.textContent="Internal/External",u=p("option"),u.textContent="Internal",f=p("option"),f.textContent="External",C(n,"class","textarea-padding"),o.disabled=!0,o.selected=!0,o.__value="",ne(o,o.__value),u.__value="Internal",ne(u,u.__value),f.__value="External",ne(f,f.__value),C(l,"class","stakeholder-select svelte-1q711a9"),t[21].type===void 0&&ve(v),C(e,"class","add-more-large svelte-1q711a9")},m(d,m){W(d,e,m),s(e,n),ne(n,t[21].text),s(e,i),s(e,l),s(l,o),s(l,u),s(l,f),Se(l,t[21].type,!0),r||(c=[z(n,"input",b),z(l,"change",v)],r=!0)},p(d,m){t=d,m&1&&ne(n,t[21].text),m&1&&Se(l,t[21].type)},d(d){d&&K(e),r=!1,ge(c)}}}function oi(t){let e,n,i,l,o,u,f,r,c,b,v,d,m,k,_,g,y,w,q,H,$,X,J,a,h,S,M,T,I,P,te,x,j,Z,U,G=t[7]&&St(t);function N(E,R){return E[8]?li:ii}let A=N(t),V=A(t),Y=pe(t[2]),F=[];for(let E=0;E<Y.length;E+=1)F[E]=Lt(qt(t,Y,E));let O=pe(t[0]),B=[];for(let E=0;E<O.length;E+=1)B[E]=Et(At(t,O,E));return{c(){e=p("div"),n=p("div"),i=p("h3"),i.textContent="Enter the details of your project",l=L(),o=p("button"),o.textContent="ℹ",u=L(),G&&G.c(),f=L(),r=p("div"),c=p("p"),c.textContent="Project Title:",b=L(),V.c(),v=L(),d=p("div"),m=p("h3"),m.textContent="What are the objectives of your project?",k=L(),_=p("textarea"),g=L(),y=p("div");for(let E=0;E<F.length;E+=1)F[E].c();w=L(),q=p("button"),q.textContent="Add another Intended Consequence",H=L(),$=p("div"),X=p("h3"),X.textContent="Who are the stakeholders?",J=L();for(let E=0;E<B.length;E+=1)B[E].c();a=L(),h=p("button"),h.textContent="Add another stakholder",S=L(),M=p("div"),T=p("h3"),T.textContent="What data will you be using?",I=L(),P=p("textarea"),te=L(),x=p("div"),j=p("button"),j.textContent="Proceed to Consequences",C(o,"class","info-button"),C(o,"title","Information"),C(n,"class","questions-header header-btn"),C(r,"class","question reflect-title svelte-1q711a9"),C(_,"class","textarea-padding"),C(d,"class","question"),C(q,"class","btn-white-styled"),C(y,"class","question"),C($,"class","question"),C(P,"class","textarea-padding"),C(M,"class","question"),C(j,"class","btn-white-styled"),C(x,"class","btn-white-styled-container"),C(e,"id","ProjectBrief"),C(e,"class","questions-section card")},m(E,R){W(E,e,R),s(e,n),s(n,i),s(n,l),s(n,o),s(n,u),G&&G.m(n,null),s(e,f),s(e,r),s(r,c),s(r,b),V.m(r,null),s(e,v),s(e,d),s(d,m),s(d,k),s(d,_),ne(_,t[6]),s(e,g),s(e,y);for(let D=0;D<F.length;D+=1)F[D]&&F[D].m(y,null);s(y,w),s(y,q),s(e,H),s(e,$),s($,X),s($,J);for(let D=0;D<B.length;D+=1)B[D]&&B[D].m($,null);s($,a),s($,h),s(e,S),s(e,M),s(M,T),s(M,I),s(M,P),ne(P,t[1]),s(e,te),s(e,x),s(x,j),Z||(U=[z(o,"click",t[10]),z(_,"input",t[15]),z(q,"click",function(){Ge(t[4])&&t[4].apply(this,arguments)}),z(h,"click",function(){Ge(t[3])&&t[3].apply(this,arguments)}),z(P,"input",t[19]),z(j,"click",t[11])],Z=!0)},p(E,[R]){if(t=E,t[7]?G?(G.p(t,R),R&128&&Q(G,1)):(G=St(t),G.c(),Q(G,1),G.m(n,null)):G&&(G.d(1),G=null),A===(A=N(t))&&V?V.p(t,R):(V.d(1),V=A(t),V&&(V.c(),V.m(r,null))),R&64&&ne(_,t[6]),R&4){Y=pe(t[2]);let D;for(D=0;D<Y.length;D+=1){const le=qt(t,Y,D);F[D]?F[D].p(le,R):(F[D]=Lt(le),F[D].c(),F[D].m(y,w))}for(;D<F.length;D+=1)F[D].d(1);F.length=Y.length}if(R&1){O=pe(t[0]);let D;for(D=0;D<O.length;D+=1){const le=At(t,O,D);B[D]?B[D].p(le,R):(B[D]=Et(le),B[D].c(),B[D].m($,a))}for(;D<B.length;D+=1)B[D].d(1);B.length=O.length}R&2&&ne(P,t[1])},i(E){Q(G)},o:ie,d(E){E&&K(e),G&&G.d(),V.d(),Le(F,E),Le(B,E),Z=!1,ge(U)}}}function si(t,e,n){const i=Ke();let{objectives:l}=e,{title:o}=e,{stakeholders:u}=e,{dataUsed:f}=e,{onAdd:r}=e,{intendedConsequences:c}=e,{onAddIntendedConsequence:b}=e,v=o,d=l,m=!1,k=!0;function _(a){a.key==="Enter"&&n(8,k=!1)}function g(){n(7,m=!m)}function y(){console.log("title:",v),i("proceed",{title:v,objectives:d,stakeholders:u,dataUsed:f})}function w(){v=this.value,n(5,v)}function q(){d=this.value,n(6,d)}function H(a,h){a[h].description=this.value,n(2,c)}function $(a,h){a[h].text=this.value,n(0,u)}function X(a,h){a[h].type=Ze(this),n(0,u)}function J(){f=this.value,n(1,f)}return t.$$set=a=>{"objectives"in a&&n(12,l=a.objectives),"title"in a&&n(13,o=a.title),"stakeholders"in a&&n(0,u=a.stakeholders),"dataUsed"in a&&n(1,f=a.dataUsed),"onAdd"in a&&n(3,r=a.onAdd),"intendedConsequences"in a&&n(2,c=a.intendedConsequences),"onAddIntendedConsequence"in a&&n(4,b=a.onAddIntendedConsequence)},t.$$.update=()=>{t.$$.dirty&8192&&console.log("In Reflect.svelte, received title:",o)},[u,f,c,r,b,v,d,m,k,_,g,y,l,o,w,q,H,$,X,J]}class ri extends Pe{constructor(e){super(),Te(this,e,si,oi,Ee,{objectives:12,title:13,stakeholders:0,dataUsed:1,onAdd:3,intendedConsequences:2,onAddIntendedConsequence:4})}}const Je=[];function ci(t,e=ie){let n;const i=new Set;function l(f){if(Ee(t,f)&&(t=f,n)){const r=!Je.length;for(const c of i)c[1](),Je.push(c,t);if(r){for(let c=0;c<Je.length;c+=2)Je[c][0](Je[c+1]);Je.length=0}}}function o(f){l(f(t))}function u(f,r=ie){const c=[f,r];return i.add(c),i.size===1&&(n=e(l,o)||ie),f(t),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:u}}const ct=ci([{description:"Potential impact on the environment due to waste.",outcome:["Negative"],selectedOutcome:"Negative",impact:["High","Medium","Low"],selectedImpact:"High",likelihood:["High","Medium","Low"],selectedLikelihood:"Low",action:"DO this then THAT",AIM:["Act","Influence","Monitor"],selectedAIM:"Act",timeline:["3 months","6 months","1 year","2 years"],selectedTimeline:"3 months",KPI:"HEY",isSelected:!1},{description:"Possible misuse of the product by end-users.",outcome:["Negative"],selectedOutcome:"Positive",impact:["High","Medium","Low"],selectedImpact:"High",likelihood:["High","Medium","Low"],selectedLikelihood:"Low",action:"DO this then THAT",AIM:["Act","Influence","Monitor"],selectedAIM:"Act",timeline:["3 months","6 months","1 year","2 years"],selectedTimeline:"3 months",KPI:"HEY",isSelected:!1},{description:"Might lead to job losses due to automation.",outcome:["Negative"],selectedOutcome:"Positive",impact:["High","Medium","Low"],selectedImpact:"High",likelihood:["High","Medium","Low"],selectedLikelihood:"Low",action:"DO this then THAT",AIM:["Act","Influence","Monitor"],selectedAIM:"Act",timeline:["3 months","6 months","1 year","2 years"],selectedTimeline:"3 months",KPI:"HEY",isSelected:!1},{description:"Could be used unethically in certain situations.",outcome:["Negative"],selectedOutcome:"Positive",impact:["High","Medium","Low"],selectedImpact:"High",likelihood:["High","Medium","Low"],selectedLikelihood:"Low",action:"DO this then THAT",AIM:["Act","Influence","Monitor"],selectedAIM:"Act",timeline:["3 months","6 months","1 year","2 years"],selectedTimeline:"3 months",KPI:"HEY",isSelected:!1},{description:"Improves accessibility for differently-abled individuals.",outcome:["Positive"],selectedOutcome:"Positive",impact:["High","Medium","Low"],selectedImpact:"High",likelihood:["High","Medium","Low"],selectedLikelihood:"Low",action:"DO this then THAT",AIM:["Act","Influence","Monitor"],selectedAIM:"Act",timeline:["3 months","6 months","1 year","2 years"],selectedTimeline:"3 months",KPI:"HEY",isSelected:!1}]);function Ot(t,e,n){const i=t.slice();return i[16]=e[n],i[17]=e,i[18]=n,i}function Mt(t,e,n){const i=t.slice();return i[19]=e[n],i}function Tt(t){let e,n,i,l,o,u,f,r,c;return{c(){e=p("div"),n=p("h3"),n.textContent="Do you want AI to suggest consequences?",i=L(),l=p("div"),o=p("button"),o.textContent="Yes",u=L(),f=p("button"),f.textContent="No",C(o,"class","btn-white-styled"),C(o,"style","display"),C(f,"class","btn-white-styled"),C(l,"class","btn-white-styled-container"),tt(l,"display",t[3]===!0?"none":""),C(e,"class","card")},m(b,v){W(b,e,v),s(e,n),s(e,i),s(e,l),s(l,o),s(l,u),s(l,f),r||(c=[z(o,"click",t[10]),z(f,"click",t[11])],r=!0)},p(b,v){v&8&&tt(l,"display",b[3]===!0?"none":"")},d(b){b&&K(e),r=!1,ge(c)}}}function Pt(t){let e,n,i,l,o,u,f,r,c,b,v=pe(t[5]),d=[];for(let m=0;m<v.length;m+=1)d[m]=Rt(Mt(t,v,m));return{c(){e=p("div"),n=p("div"),i=p("ul");for(let m=0;m<d.length;m+=1)d[m].c();l=L(),o=p("div"),u=p("button"),u.textContent="Continue with these consequences",f=L(),r=p("button"),r.textContent="Add in your own consequences",C(n,"class","btn-white-styled-container consequence-options"),C(u,"class","btn-white-styled"),C(r,"class","btn-white-styled"),C(o,"class","btn-white-styled-container"),tt(o,"display",t[4]!==null?"none":""),C(e,"class","card")},m(m,k){W(m,e,k),s(e,n),s(n,i);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(i,null);s(e,l),s(e,o),s(o,u),s(o,f),s(o,r),c||(b=[z(u,"click",t[8]),z(r,"click",t[6])],c=!0)},p(m,k){if(k&160){v=pe(m[5]);let _;for(_=0;_<v.length;_+=1){const g=Mt(m,v,_);d[_]?d[_].p(g,k):(d[_]=Rt(g),d[_].c(),d[_].m(i,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=v.length}k&16&&tt(o,"display",m[4]!==null?"none":"")},d(m){m&&K(e),Le(d,m),c=!1,ge(b)}}}function jt(t){let e;return{c(){e=ee("✅")},m(n,i){W(n,e,i)},d(n){n&&K(e)}}}function Rt(t){let e,n,i=t[19].description+"",l,o,u=t[19].outcome+"",f,r,c,b,v,d,m;function k(){return t[12](t[19])}let _=t[19].isSelected&&jt();return{c(){e=p("li"),n=p("button"),l=ee(i),o=ee(" (Outcome: "),f=ee(u),r=ee(")"),b=L(),_&&_.c(),v=L(),C(n,"class",c="suggestion-button btn-white-styled "+(t[19].isSelected?"selected-suggestion":"")+" svelte-mqz9z0")},m(g,y){W(g,e,y),s(e,n),s(n,l),s(n,o),s(n,f),s(n,r),s(e,b),_&&_.m(e,null),s(e,v),d||(m=z(n,"click",k),d=!0)},p(g,y){t=g,y&32&&i!==(i=t[19].description+"")&&me(l,i),y&32&&u!==(u=t[19].outcome+"")&&me(f,u),y&32&&c!==(c="suggestion-button btn-white-styled "+(t[19].isSelected?"selected-suggestion":"")+" svelte-mqz9z0")&&C(n,"class",c),t[19].isSelected?_||(_=jt(),_.c(),_.m(e,v)):_&&(_.d(1),_=null)},d(g){g&&K(e),_&&_.d(),d=!1,m()}}}function Dt(t){let e,n,i,l,o,u,f,r,c,b,v,d,m,k,_=t[2]&&Ft(t),g=pe(t[0]),y=[];for(let w=0;w<g.length;w+=1)y[w]=Ut(Ot(t,g,w));return{c(){e=p("div"),n=p("div"),i=p("h2"),i.textContent="Unintended Consequences",l=L(),o=p("button"),o.textContent="ℹ",u=L(),_&&_.c(),f=L();for(let w=0;w<y.length;w+=1)y[w].c();r=L(),c=p("div"),b=p("button"),b.textContent="Add More",v=L(),d=p("button"),d.textContent="Proceed to Evalute Risk",C(o,"class","info-button"),C(o,"title","Information"),C(n,"class","header-btn"),C(b,"class","btn-white-styled"),C(d,"class","btn-white-styled"),C(c,"class","btn-white-styled-container"),C(e,"class","card"),C(e,"id","UnintendedConsequences")},m(w,q){W(w,e,q),s(e,n),s(n,i),s(n,l),s(n,o),s(n,u),_&&_.m(n,null),s(e,f);for(let H=0;H<y.length;H+=1)y[H]&&y[H].m(e,null);s(e,r),s(e,c),s(c,b),s(c,v),s(c,d),m||(k=[z(o,"click",t[9]),z(b,"click",function(){Ge(t[1])&&t[1].apply(this,arguments)}),z(d,"click",t[8])],m=!0)},p(w,q){if(t=w,t[2]?_?(_.p(t,q),q&4&&Q(_,1)):(_=Ft(t),_.c(),Q(_,1),_.m(n,null)):_&&(_.d(1),_=null),q&1){g=pe(t[0]);let H;for(H=0;H<g.length;H+=1){const $=Ot(t,g,H);y[H]?y[H].p($,q):(y[H]=Ut($),y[H].c(),y[H].m(e,r))}for(;H<y.length;H+=1)y[H].d(1);y.length=g.length}},d(w){w&&K(e),_&&_.d(),Le(y,w),m=!1,ge(k)}}}function Ft(t){let e,n,i,l,o,u,f,r;return{c(){e=p("div"),n=p("div"),i=p("span"),i.textContent="×",l=L(),o=p("p"),o.textContent="Input some text explaining this section",C(i,"class","close"),C(n,"class","modal-content"),C(e,"class","modal")},m(c,b){W(c,e,b),s(e,n),s(n,i),s(n,l),s(n,o),f||(r=z(i,"click",t[9]),f=!0)},p:ie,i(c){c&&(u||ve(()=>{u=Xe(e,xe,{duration:300}),u.start()}))},o:ie,d(c){c&&K(e),f=!1,r()}}}function Ut(t){let e,n,i,l=t[18]+1+"",o,u,f,r,c,b,v,d,m,k,_,g,y,w,q,H,$;function X(){t[13].call(f,t[17],t[18])}function J(){t[14].call(d,t[17],t[18])}return{c(){e=p("div"),n=p("label"),i=ee("Unintended Consequence "),o=ee(l),u=L(),f=p("textarea"),r=L(),c=p("div"),b=p("label"),v=ee(`Outcome
      `),d=p("select"),m=p("option"),m.textContent="Outcome",k=p("option"),_=ee("Positive"),y=p("option"),w=ee("Negative"),C(f,"class","consequence-input"),C(f,"placeholder","Description"),C(n,"for","description"),m.disabled=!0,m.__value="",ne(m,m.__value),k.selected=g=t[16].selectedOutcome==="Positive",k.__value="Positive",ne(k,k.__value),y.selected=q=t[16].selectedOutcome==="Negative",y.__value="Negative",ne(y,y.__value),t[16].selectedOutcome===void 0&&ve(J),C(b,"for","outcome"),C(c,"class","input-row"),C(e,"class","consequence-options")},m(a,h){W(a,e,h),s(e,n),s(n,i),s(n,o),s(n,u),s(n,f),ne(f,t[16].description),s(e,r),s(e,c),s(c,b),s(b,v),s(b,d),s(d,m),s(d,k),s(k,_),s(d,y),s(y,w),Se(d,t[16].selectedOutcome,!0),H||($=[z(f,"input",X),z(d,"change",J)],H=!0)},p(a,h){t=a,h&1&&ne(f,t[16].description),h&1&&g!==(g=t[16].selectedOutcome==="Positive")&&(k.selected=g),h&1&&q!==(q=t[16].selectedOutcome==="Negative")&&(y.selected=q),h&1&&Se(d,t[16].selectedOutcome)},d(a){a&&K(e),H=!1,ge($)}}}function ui(t){let e,n,i,l=t[4]===null&&Tt(t),o=t[3]===!0&&Pt(t),u=t[3]===!1&&t[4]===!0&&Dt(t);return{c(){l&&l.c(),e=L(),o&&o.c(),n=L(),u&&u.c(),i=gt()},m(f,r){l&&l.m(f,r),W(f,e,r),o&&o.m(f,r),W(f,n,r),u&&u.m(f,r),W(f,i,r)},p(f,[r]){f[4]===null?l?l.p(f,r):(l=Tt(f),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f[3]===!0?o?o.p(f,r):(o=Pt(f),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),f[3]===!1&&f[4]===!0?u?u.p(f,r):(u=Dt(f),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},i:ie,o:ie,d(f){f&&(K(e),K(n),K(i)),l&&l.d(f),o&&o.d(f),u&&u.d(f)}}}function ai(t,e,n){let i;_t(t,ct,q=>n(5,i=q));const l=Ke();let{consequences:o}=e,{onAdd:u}=e,f=null,r=null,c=null;function b(){n(4,c=!0),n(3,r=!1)}function v(q){let H=q.isSelected,$=i.map(X=>X.description===q.description?{...X,isSelected:!X.isSelected}:X);if(ct.set($),!H)o.push({description:q.description,outcome:q.selectedOutcome,impact:["High","Medium","Low"],selectedImpact:"",likelihood:["High","Medium","Low"],selectedLikelihood:"",action:"",AIM:["Act","Influence","Monitor"],selectedAIM:"",timeline:["3 months","6 months","1 year","2 years"],selectedTimeline:""});else{const X=o.findIndex(J=>J.description===q.description);X>-1&&o.splice(X,1)}l("updateConsequences",o),console.log(o)}function d(){l("proceed")}function m(){n(2,f=!f)}const k=()=>n(3,r=!0),_=()=>n(3,r=!1),g=q=>v(q);function y(q,H){q[H].description=this.value,n(0,o)}function w(q,H){q[H].selectedOutcome=Ze(this),n(0,o)}return t.$$set=q=>{"consequences"in q&&n(0,o=q.consequences),"onAdd"in q&&n(1,u=q.onAdd)},[o,u,f,r,c,i,b,v,d,m,k,_,g,y,w]}class di extends Pe{constructor(e){super(),Te(this,e,ai,ui,Ee,{consequences:0,onAdd:1})}}function Nt(t,e,n){const i=t.slice();return i[26]=e[n],i[27]=e,i[28]=n,i}function Ht(t){let e,n,i,l,o,u,f,r;return{c(){e=p("div"),n=p("div"),i=p("span"),i.textContent="×",l=L(),o=p("p"),o.textContent="Input some text explaining this section",C(i,"class","close"),C(i,"role","button"),C(i,"tabindex","0"),C(n,"class","modal-content"),C(e,"class","modal")},m(c,b){W(c,e,b),s(e,n),s(n,i),s(n,l),s(n,o),f||(r=z(i,"click",t[6]),f=!0)},p:ie,i(c){c&&(u||ve(()=>{u=Xe(e,xe,{duration:300}),u.start()}))},o:ie,d(c){c&&K(e),f=!1,r()}}}function Kt(t){let e,n,i,l,o,u=t[26].description+"",f,r,c,b,v,d,m,k,_,g,y,w,q,H,$,X,J,a,h,S,M,T,I,P,te,x,j,Z,U,G,N,A,V,Y,F,O,B,E,R,D,le,ue,oe;function be(){t[12].call(m,t[27],t[28])}function de(...he){return t[13](t[28],...he)}function re(){return t[14](t[28])}function we(){t[15].call(H,t[27],t[28])}function ke(...he){return t[16](t[28],...he)}function Ce(){return t[17](t[28])}function Ie(){t[18].call(T,t[27],t[28])}function ye(...he){return t[19](t[28],...he)}function ce(){t[20].call(N,t[27],t[28])}function fe(...he){return t[21](t[28],...he)}function je(){return t[22](t[28])}function se(){return t[23](t[28])}return{c(){e=p("div"),n=p("span"),i=p("h3"),i.textContent=`consequence ${t[28]+1}:`,l=L(),o=p("h2"),f=ee(u),r=L(),c=p("div"),b=p("label"),v=p("h4"),v.textContent="Action",d=L(),m=p("textarea"),k=L(),_=p("div"),g=p("button"),g.textContent="Fill action using AI",y=L(),w=p("label"),q=ee(`Enter KPI for this consequence
            `),H=p("textarea"),$=L(),X=p("div"),J=p("button"),J.textContent="Fill KPI using AI",a=L(),h=p("div"),S=p("label"),M=ee(`Timescale
                  `),T=p("select"),I=p("option"),I.textContent="Timescale",P=p("option"),P.textContent="3 months",te=p("option"),te.textContent="6 months",x=p("option"),x.textContent="1 year",j=p("option"),j.textContent="2 years",Z=L(),U=p("label"),G=ee(`Act, Influence, or Monitor
                  `),N=p("select"),A=p("option"),A.textContent="Select an option",V=p("option"),V.textContent="Act",Y=p("option"),Y.textContent="Influence",F=p("option"),F.textContent="Monitor",O=L(),B=p("div"),E=p("button"),E.textContent="Fill Timeline using AI",R=L(),D=p("button"),D.textContent="Fill Measure using AI",le=L(),C(n,"class","consequence-actions-container"),C(e,"class","long-text-review"),C(v,"class","svelte-n7951s"),C(m,"class","consequence-input"),C(m,"placeholder","Enter action for this consequence"),C(b,"for","action"),C(g,"class","btn-white-styled"),C(_,"class","btn-white-styled-container"),C(H,"class","consequence-input"),C(H,"placeholder","Enter KPI for this consequence"),C(w,"for","KPI"),C(J,"class","btn-white-styled"),C(X,"class","btn-white-styled-container"),I.disabled=!0,I.selected=!0,I.__value="",ne(I,I.__value),P.__value="3 months",ne(P,P.__value),te.__value="6 months",ne(te,te.__value),x.__value="1 year",ne(x,x.__value),j.__value="2 years",ne(j,j.__value),t[26].timescale===void 0&&ve(Ie),C(S,"for","timescale"),A.disabled=!0,A.selected=!0,A.__value="",ne(A,A.__value),V.__value="Act",ne(V,V.__value),Y.__value="Influence",ne(Y,Y.__value),F.__value="Monitor",ne(F,F.__value),t[26].selectedAIM===void 0&&ve(ce),C(U,"for","measure"),C(h,"class","input-row"),C(E,"class","btn-white-styled"),C(D,"class","btn-white-styled"),C(B,"class","btn-white-styled-container"),C(c,"class","consequence-options")},m(he,_e){W(he,e,_e),s(e,n),s(n,i),s(n,l),s(n,o),s(o,f),W(he,r,_e),W(he,c,_e),s(c,b),s(b,v),s(b,d),s(b,m),ne(m,t[26].action),s(c,k),s(c,_),s(_,g),s(c,y),s(c,w),s(w,q),s(w,H),ne(H,t[26].KPI),s(c,$),s(c,X),s(X,J),s(c,a),s(c,h),s(h,S),s(S,M),s(S,T),s(T,I),s(T,P),s(T,te),s(T,x),s(T,j),Se(T,t[26].timescale,!0),s(h,Z),s(h,U),s(U,G),s(U,N),s(N,A),s(N,V),s(N,Y),s(N,F),Se(N,t[26].selectedAIM,!0),s(c,O),s(c,B),s(B,E),s(B,R),s(B,D),s(c,le),ue||(oe=[z(m,"input",be),z(m,"input",de),z(g,"click",re),z(H,"input",we),z(H,"input",ke),z(J,"click",Ce),z(T,"change",Ie),z(T,"change",ye),z(N,"change",ce),z(N,"change",fe),z(E,"click",je),z(D,"click",se)],ue=!0)},p(he,_e){t=he,_e&1&&u!==(u=t[26].description+"")&&me(f,u),_e&1&&ne(m,t[26].action),_e&1&&ne(H,t[26].KPI),_e&1&&Se(T,t[26].timescale),_e&1&&Se(N,t[26].selectedAIM)},d(he){he&&(K(e),K(r),K(c)),ue=!1,ge(oe)}}}function fi(t){let e,n,i,l,o,u,f,r,c,b,v,d,m=t[5]&&Ht(t),k=pe(t[0]),_=[];for(let g=0;g<k.length;g+=1)_[g]=Kt(Nt(t,k,g));return{c(){e=p("div"),n=p("div"),i=p("h3"),i.textContent="Assign Actions to Consequences",l=L(),o=p("button"),o.textContent="ℹ",u=L(),m&&m.c(),f=L();for(let g=0;g<_.length;g+=1)_[g].c();r=L(),c=p("div"),b=p("button"),b.textContent="View Data in Table Format",C(o,"class","info-button"),C(o,"title","Information"),C(n,"class","actions-header header-btn"),C(e,"class","card"),C(b,"class","btn-white-styled"),C(c,"class","btn-white-styled-container")},m(g,y){W(g,e,y),s(e,n),s(n,i),s(n,l),s(n,o),s(n,u),m&&m.m(n,null),s(e,f);for(let w=0;w<_.length;w+=1)_[w]&&_[w].m(e,null);W(g,r,y),W(g,c,y),s(c,b),v||(d=[z(o,"click",t[6]),z(b,"click",t[7])],v=!0)},p(g,[y]){if(g[5]?m?(m.p(g,y),y&32&&Q(m,1)):(m=Ht(g),m.c(),Q(m,1),m.m(n,null)):m&&(m.d(1),m=null),y&3871){k=pe(g[0]);let w;for(w=0;w<k.length;w+=1){const q=Nt(g,k,w);_[w]?_[w].p(q,y):(_[w]=Kt(q),_[w].c(),_[w].m(e,null))}for(;w<_.length;w+=1)_[w].d(1);_.length=k.length}},i(g){Q(m)},o:ie,d(g){g&&(K(e),K(r),K(c)),m&&m.d(),Le(_,g),v=!1,ge(d)}}}function hi(t,e,n){let i;_t(t,ct,I=>n(24,i=I));let{consequences:l}=e,{onSetAction:o}=e,{onSetTimeline:u}=e,{onSetMeasure:f}=e,{onSetKPI:r}=e,c=!1;function b(){n(5,c=!c)}const v=Ke();function d(){v("proceed")}function m(I){i[I]&&n(0,l[I].action=i[I].action,l)}function k(I){i[I]&&n(0,l[I].timescale=i[I].selectedTimeline,l)}function _(I){i[I]&&n(0,l[I].selectedAIM=i[I].selectedAIM,l)}function g(I){i[I]&&n(0,l[I].KPI=i[I].KPI,l)}function y(I,P){I[P].action=this.value,n(0,l)}const w=(I,P)=>o(I,P.target.value),q=I=>m(I);function H(I,P){I[P].KPI=this.value,n(0,l)}const $=(I,P)=>r(I,P.target.value),X=I=>g(I);function J(I,P){I[P].timescale=Ze(this),n(0,l)}const a=(I,P)=>u(I,P.target.value);function h(I,P){I[P].selectedAIM=Ze(this),n(0,l)}const S=(I,P)=>f(I,P.target.value),M=I=>k(I),T=I=>_(I);return t.$$set=I=>{"consequences"in I&&n(0,l=I.consequences),"onSetAction"in I&&n(1,o=I.onSetAction),"onSetTimeline"in I&&n(2,u=I.onSetTimeline),"onSetMeasure"in I&&n(3,f=I.onSetMeasure),"onSetKPI"in I&&n(4,r=I.onSetKPI)},[l,o,u,f,r,c,b,d,m,k,_,g,y,w,q,H,$,X,J,a,h,S,M,T]}class pi extends Pe{constructor(e){super(),Te(this,e,hi,fi,Ee,{consequences:0,onSetAction:1,onSetTimeline:2,onSetMeasure:3,onSetKPI:4})}}function zt(t,e,n){const i=t.slice();return i[13]=e[n],i}function Bt(t,e,n){const i=t.slice();return i[16]=e[n],i}function Wt(t,e,n){const i=t.slice();return i[19]=e[n],i[21]=n,i}function Jt(t){let e,n,i,l=pe(t[5]),o=[];for(let u=0;u<l.length;u+=1)o[u]=Vt(Wt(t,l,u));return{c(){e=p("p"),e.innerHTML="<strong>Stakeholders:</strong>",n=L();for(let u=0;u<o.length;u+=1)o[u].c();i=gt()},m(u,f){W(u,e,f),W(u,n,f);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(u,f);W(u,i,f)},p(u,f){if(f&32){l=pe(u[5]);let r;for(r=0;r<l.length;r+=1){const c=Wt(u,l,r);o[r]?o[r].p(c,f):(o[r]=Vt(c),o[r].c(),o[r].m(i.parentNode,i))}for(;r<o.length;r+=1)o[r].d(1);o.length=l.length}},d(u){u&&(K(e),K(n),K(i)),Le(o,u)}}}function Vt(t){let e,n=t[19].text+"",i,l,o,u,f=t[19].type+"",r,c;return{c(){e=p("p"),i=ee(n),l=L(),o=p("em"),u=ee("("),r=ee(f),c=ee(")")},m(b,v){W(b,e,v),s(e,i),s(e,l),s(e,o),s(o,u),s(o,r),s(o,c)},p(b,v){v&32&&n!==(n=b[19].text+"")&&me(i,n),v&32&&f!==(f=b[19].type+"")&&me(r,f)},d(b){b&&K(e)}}}function Yt(t){let e,n=t[16].description+"",i;return{c(){e=p("li"),i=ee(n)},m(l,o){W(l,e,o),s(e,i)},p(l,o){o&8&&n!==(n=l[16].description+"")&&me(i,n)},d(l){l&&K(e)}}}function Qt(t){let e,n,i=t[13].description+"",l,o,u,f=t[13].selectedLikelihood+"",r,c,b,v=t[13].selectedImpact+"",d,m,k,_=t[13].selectedAIM+"",g,y,w,q=t[13].action+"",H,$,X,J=t[13].outcome+"",a,h,S,M=t[13].selectedTimeline+"",T,I,P,te=t[13].KPI+"",x,j;return{c(){e=p("tr"),n=p("td"),l=ee(i),o=L(),u=p("td"),r=ee(f),c=L(),b=p("td"),d=ee(v),m=L(),k=p("td"),g=ee(_),y=L(),w=p("td"),H=ee(q),$=L(),X=p("td"),a=ee(J),h=L(),S=p("td"),T=ee(M),I=L(),P=p("td"),x=ee(te),j=L()},m(Z,U){W(Z,e,U),s(e,n),s(n,l),s(e,o),s(e,u),s(u,r),s(e,c),s(e,b),s(b,d),s(e,m),s(e,k),s(k,g),s(e,y),s(e,w),s(w,H),s(e,$),s(e,X),s(X,a),s(e,h),s(e,S),s(S,T),s(e,I),s(e,P),s(P,x),s(e,j)},p(Z,U){U&4&&i!==(i=Z[13].description+"")&&me(l,i),U&4&&f!==(f=Z[13].selectedLikelihood+"")&&me(r,f),U&4&&v!==(v=Z[13].selectedImpact+"")&&me(d,v),U&4&&_!==(_=Z[13].selectedAIM+"")&&me(g,_),U&4&&q!==(q=Z[13].action+"")&&me(H,q),U&4&&J!==(J=Z[13].outcome+"")&&me(a,J),U&4&&M!==(M=Z[13].selectedTimeline+"")&&me(T,M),U&4&&te!==(te=Z[13].KPI+"")&&me(x,te)},d(Z){Z&&K(e)}}}function Gt(t){let e,n,i,l,o,u,f,r,c,b,v,d,m,k;return{c(){e=p("div"),n=p("div"),i=p("span"),i.textContent="×",l=L(),o=p("p"),o.textContent="Download the data as a CSV file",u=L(),f=p("button"),f.textContent="Download as CSV",r=L(),c=p("p"),c.textContent="Download the data as a CSV file",b=L(),v=p("button"),v.textContent="Download data as JSON",C(i,"class","close"),C(n,"class","modal-content"),C(e,"class","modal")},m(_,g){W(_,e,g),s(e,n),s(n,i),s(n,l),s(n,o),s(n,u),s(n,f),s(n,r),s(n,c),s(n,b),s(n,v),m||(k=[z(i,"click",t[11]),z(f,"click",t[6]),z(v,"click",t[7])],m=!0)},p:ie,i(_){_&&(d||ve(()=>{d=Xe(e,xe,{duration:300}),d.start()}))},o:ie,d(_){_&&K(e),m=!1,ge(k)}}}function _i(t){let e,n,i,l,o,u,f,r,c,b,v,d,m,k,_,g,y,w,q,H,$,X,J,a,h,S,M=t[9]()+"",T,I,P,te,x,j,Z,U,G=t[5]&&Jt(t),N=pe(t[3]),A=[];for(let O=0;O<N.length;O+=1)A[O]=Yt(Bt(t,N,O));let V=pe(t[2]),Y=[];for(let O=0;O<V.length;O+=1)Y[O]=Qt(zt(t,V,O));let F=t[0]&&Gt(t);return{c(){e=p("div"),n=p("h2"),i=ee(t[1]),l=L(),o=p("h3"),o.textContent="Project Overview",u=L(),f=p("p"),r=p("strong"),r.textContent="Objectives:",c=L(),b=ee(t[4]),v=L(),G&&G.c(),d=L(),m=p("h4"),m.textContent="Intended/Positive Consequences",k=L(),_=p("ul");for(let O=0;O<A.length;O+=1)A[O].c();g=L(),y=p("h2"),y.textContent="Risk Management Table",w=L(),q=p("table"),H=p("thead"),H.innerHTML="<tr><th>Unintended Consequences</th> <th>Likelihood</th> <th>Impact</th> <th>AIM</th> <th>Action</th> <th>Outcome</th> <th>Timescale</th> <th>KPI</th></tr>",$=L(),X=p("tbody");for(let O=0;O<Y.length;O+=1)Y[O].c();J=L(),a=p("p"),h=p("strong"),h.textContent="Risk Score:",S=L(),T=ee(M),I=L(),P=p("button"),P.textContent="Get full report",te=L(),x=p("button"),x.textContent="Download the data",j=L(),F&&F.c(),C(q,"class","data-table"),C(e,"id","Review"),C(e,"class","card project-overview")},m(O,B){W(O,e,B),s(e,n),s(n,i),s(e,l),s(e,o),s(e,u),s(e,f),s(f,r),s(f,c),s(f,b),s(e,v),G&&G.m(e,null),s(e,d),s(e,m),s(e,k),s(e,_);for(let E=0;E<A.length;E+=1)A[E]&&A[E].m(_,null);s(e,g),s(e,y),s(e,w),s(e,q),s(q,H),s(q,$),s(q,X);for(let E=0;E<Y.length;E+=1)Y[E]&&Y[E].m(X,null);s(e,J),s(e,a),s(a,h),s(a,S),s(a,T),s(e,I),s(e,P),s(e,te),s(e,x),s(e,j),F&&F.m(e,null),Z||(U=[z(P,"click",t[8]),z(x,"click",t[10])],Z=!0)},p(O,[B]){if(B&2&&me(i,O[1]),B&16&&me(b,O[4]),O[5]?G?G.p(O,B):(G=Jt(O),G.c(),G.m(e,d)):G&&(G.d(1),G=null),B&8){N=pe(O[3]);let E;for(E=0;E<N.length;E+=1){const R=Bt(O,N,E);A[E]?A[E].p(R,B):(A[E]=Yt(R),A[E].c(),A[E].m(_,null))}for(;E<A.length;E+=1)A[E].d(1);A.length=N.length}if(B&4){V=pe(O[2]);let E;for(E=0;E<V.length;E+=1){const R=zt(O,V,E);Y[E]?Y[E].p(R,B):(Y[E]=Qt(R),Y[E].c(),Y[E].m(X,null))}for(;E<Y.length;E+=1)Y[E].d(1);Y.length=V.length}O[0]?F?(F.p(O,B),B&1&&Q(F,1)):(F=Gt(O),F.c(),Q(F,1),F.m(e,null)):F&&(F.d(1),F=null)},i(O){Q(F)},o:ie,d(O){O&&K(e),G&&G.d(),Le(A,O),Le(Y,O),F&&F.d(),Z=!1,ge(U)}}}function mi(t,e,n){const i=Ke();let{showModal:l}=e,{projectTitle:o}=e,{unintendedConsequences:u}=e,{intendedConsequences:f}=e,{objectives:r}=e,{stakeholders:c}=e;function b(){i("proceed",{format:"csv"})}function v(){i("proceed",{format:"json"})}function d(){i("proceed",{format:"html"})}function m(){let g=0;return u.forEach(y=>{y.selectedImpact==="High"&&y.selectedLikelihood==="High"&&(g+=10)}),g}const k=()=>{n(0,l=!0)},_=()=>{n(0,l=!1)};return t.$$set=g=>{"showModal"in g&&n(0,l=g.showModal),"projectTitle"in g&&n(1,o=g.projectTitle),"unintendedConsequences"in g&&n(2,u=g.unintendedConsequences),"intendedConsequences"in g&&n(3,f=g.intendedConsequences),"objectives"in g&&n(4,r=g.objectives),"stakeholders"in g&&n(5,c=g.stakeholders)},[l,o,u,f,r,c,b,v,d,m,k,_]}class gi extends Pe{constructor(e){super(),Te(this,e,mi,_i,Ee,{showModal:0,projectTitle:1,unintendedConsequences:2,intendedConsequences:3,objectives:4,stakeholders:5})}}function Zt(t,e,n){const i=t.slice();return i[14]=e[n],i[15]=e,i[16]=n,i}function Xt(t){let e,n,i,l,o,u,f,r;return{c(){e=p("div"),n=p("div"),i=p("span"),i.textContent="×",l=L(),o=p("p"),o.textContent="Input some text explaining this section",C(i,"class","close"),C(n,"class","modal-content"),C(e,"class","modal")},m(c,b){W(c,e,b),s(e,n),s(n,i),s(n,l),s(n,o),f||(r=z(i,"click",t[5]),f=!0)},p:ie,i(c){c&&(u||ve(()=>{u=Xe(e,xe,{duration:300}),u.start()}))},o:ie,d(c){c&&K(e),f=!1,r()}}}function xt(t){let e,n,i=t[14].description+"",l,o,u,f,r,c,b,v,d,m,k,_,g,y,w,q,H,$,X,J;function a(){return t[7](t[16])}function h(){t[8].call(v,t[15],t[16])}function S(...I){return t[9](t[16],...I)}function M(){t[10].call(w,t[15],t[16])}function T(...I){return t[11](t[16],...I)}return{c(){e=p("div"),n=p("h3"),l=ee(i),o=L(),u=p("button"),u.textContent="Fill impact and likelihood using AI",f=L(),r=p("div"),c=p("label"),b=ee(`impact
        `),v=p("select"),d=p("option"),d.textContent="impact",m=p("option"),m.textContent="High",k=p("option"),k.textContent="Low",_=L(),g=p("label"),y=ee(`Likelihood
        `),w=p("select"),q=p("option"),q.textContent="likelihood",H=p("option"),H.textContent="High",$=p("option"),$.textContent="Low",C(u,"class","btn-white-styled"),d.disabled=!0,d.selected=!0,d.__value="",ne(d,d.__value),m.__value="High",ne(m,m.__value),k.__value="Low",ne(k,k.__value),t[14].selectedImpact===void 0&&ve(h),C(c,"for","impact"),q.disabled=!0,q.selected=!0,q.__value="",ne(q,q.__value),H.__value="High",ne(H,H.__value),$.__value="Low",ne($,$.__value),t[14].selectedLikelihood===void 0&&ve(M),C(g,"for","likelihood"),C(r,"class","input-row"),C(e,"class","consequence-options")},m(I,P){W(I,e,P),s(e,n),s(n,l),s(e,o),s(e,u),s(e,f),s(e,r),s(r,c),s(c,b),s(c,v),s(v,d),s(v,m),s(v,k),Se(v,t[14].selectedImpact,!0),s(r,_),s(r,g),s(g,y),s(g,w),s(w,q),s(w,H),s(w,$),Se(w,t[14].selectedLikelihood,!0),X||(J=[z(u,"click",a),z(v,"change",h),z(v,"input",S),z(w,"change",M),z(w,"input",T)],X=!0)},p(I,P){t=I,P&1&&i!==(i=t[14].description+"")&&me(l,i),P&1&&Se(v,t[14].selectedImpact),P&1&&Se(w,t[14].selectedLikelihood)},d(I){I&&K(e),X=!1,ge(J)}}}function bi(t){let e,n,i,l,o,u,f,r,c,b,v,d=t[3]&&Xt(t),m=pe(t[0]),k=[];for(let _=0;_<m.length;_+=1)k[_]=xt(Zt(t,m,_));return{c(){e=p("div"),n=p("div"),i=p("h2"),i.textContent="Evaluate Risks of Unintended Consequences",l=L(),o=p("button"),o.textContent="ℹ",u=L(),d&&d.c(),f=L();for(let _=0;_<k.length;_+=1)k[_].c();r=L(),c=p("button"),c.textContent="Proceed to Attach Actions",C(o,"class","info-button"),C(o,"title","Information"),C(n,"class","header-btn"),C(c,"class","btn-white-styled"),C(e,"class","card"),C(e,"id","Consequences")},m(_,g){W(_,e,g),s(e,n),s(n,i),s(n,l),s(n,o),s(n,u),d&&d.m(n,null),s(e,f);for(let y=0;y<k.length;y+=1)k[y]&&k[y].m(e,null);s(e,r),s(e,c),b||(v=[z(o,"click",t[5]),z(c,"click",t[4])],b=!0)},p(_,[g]){if(_[3]?d?(d.p(_,g),g&8&&Q(d,1)):(d=Xt(_),d.c(),Q(d,1),d.m(n,null)):d&&(d.d(1),d=null),g&71){m=pe(_[0]);let y;for(y=0;y<m.length;y+=1){const w=Zt(_,m,y);k[y]?k[y].p(w,g):(k[y]=xt(w),k[y].c(),k[y].m(e,r))}for(;y<k.length;y+=1)k[y].d(1);k.length=m.length}},i(_){Q(d)},o:ie,d(_){_&&K(e),d&&d.d(),Le(k,_),b=!1,ge(v)}}}function vi(t,e,n){let i;_t(t,ct,y=>n(12,i=y));let{unintendedConsequences:l}=e,{onSetImpact:o}=e,{onSetLikelihood:u}=e,f=!1;const r=Ke();function c(){r("proceed")}function b(){n(3,f=!f)}function v(y){i[y]&&(n(0,l[y].selectedImpact=i[y].selectedImpact,l),n(0,l[y].selectedLikelihood=i[y].selectedLikelihood,l))}const d=y=>v(y);function m(y,w){y[w].selectedImpact=Ze(this),n(0,l)}const k=(y,w)=>o(y,w.target.value);function _(y,w){y[w].selectedLikelihood=Ze(this),n(0,l)}const g=(y,w)=>u(y,w.target.value);return t.$$set=y=>{"unintendedConsequences"in y&&n(0,l=y.unintendedConsequences),"onSetImpact"in y&&n(1,o=y.onSetImpact),"onSetLikelihood"in y&&n(2,u=y.onSetLikelihood)},[l,o,u,f,c,b,v,d,m,k,_,g]}class ki extends Pe{constructor(e){super(),Te(this,e,vi,bi,Ee,{unintendedConsequences:0,onSetImpact:1,onSetLikelihood:2})}}function $t(t){let e,n;return e=new Zn({}),e.$on("proceed",t[10]),{c(){Re(e.$$.fragment)},m(i,l){Oe(e,i,l),n=!0},p:ie,i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){ae(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function en(t){let e,n,i;function l(u){t[30](u)}let o={};return t[9]!==void 0&&(o.selectedFile=t[9]),e=new $n({props:o}),ft.push(()=>Kn(e,"selectedFile",l)),e.$on("fileData",t[23]),e.$on("newProject",t[25]),e.$on("proceed",t[24]),e.$on("preLoadedSelection",t[12]),{c(){Re(e.$$.fragment)},m(u,f){Oe(e,u,f),i=!0},p(u,f){const r={};!n&&f[0]&512&&(n=!0,r.selectedFile=u[9],Dn(()=>n=!1)),e.$set(r)},i(u){i||(Q(e.$$.fragment,u),i=!0)},o(u){ae(e.$$.fragment,u),i=!1},d(u){Me(e,u)}}}function tn(t){let e,n;return e=new ni({props:{preLoadedStudies:t[0].preLoadedStudies}}),e.$on("proceed",t[26]),{c(){Re(e.$$.fragment)},m(i,l){Oe(e,i,l),n=!0},p(i,l){const o={};l[0]&1&&(o.preLoadedStudies=i[0].preLoadedStudies),e.$set(o)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){ae(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function nn(t){let e,n;return e=new ri({props:{objectives:t[0].objectives,title:t[0].title,stakeholders:t[0].stakeholders,dataUsed:t[0].dataUsed,intendedConsequences:t[0].intendedConsequences,onAddIntendedConsequence:t[28],onAdd:t[27]}}),e.$on("proceed",t[11]),{c(){Re(e.$$.fragment)},m(i,l){Oe(e,i,l),n=!0},p(i,l){const o={};l[0]&1&&(o.objectives=i[0].objectives),l[0]&1&&(o.title=i[0].title),l[0]&1&&(o.stakeholders=i[0].stakeholders),l[0]&1&&(o.dataUsed=i[0].dataUsed),l[0]&1&&(o.intendedConsequences=i[0].intendedConsequences),e.$set(o)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){ae(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function ln(t){let e,n;return e=new di({props:{consequences:t[0].unintendedConsequences,onAdd:t[29]}}),e.$on("proceed",t[13]),{c(){Re(e.$$.fragment)},m(i,l){Oe(e,i,l),n=!0},p(i,l){const o={};l[0]&1&&(o.consequences=i[0].unintendedConsequences),e.$set(o)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){ae(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function on(t){let e,n;return e=new ki({props:{unintendedConsequences:t[0].unintendedConsequences,onSetImpact:t[17],onSetLikelihood:t[16]}}),e.$on("proceed",t[18]),{c(){Re(e.$$.fragment)},m(i,l){Oe(e,i,l),n=!0},p(i,l){const o={};l[0]&1&&(o.unintendedConsequences=i[0].unintendedConsequences),e.$set(o)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){ae(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function sn(t){let e,n;return e=new pi({props:{consequences:t[0].unintendedConsequences,onSetTimeline:t[21],onSetAction:t[19],onSetMeasure:t[22],onSetKPI:t[20]}}),e.$on("proceed",t[14]),{c(){Re(e.$$.fragment)},m(i,l){Oe(e,i,l),n=!0},p(i,l){const o={};l[0]&1&&(o.consequences=i[0].unintendedConsequences),e.$set(o)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){ae(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function rn(t){let e,n;return e=new gi({props:{projectTitle:t[0].title,unintendedConsequences:t[0].unintendedConsequences,objectives:t[0].objectives,stakeholders:t[0].stakeholders,showModal:!1,intendedConsequences:t[0].intendedConsequences}}),e.$on("proceed",t[15]),{c(){Re(e.$$.fragment)},m(i,l){Oe(e,i,l),n=!0},p(i,l){const o={};l[0]&1&&(o.projectTitle=i[0].title),l[0]&1&&(o.unintendedConsequences=i[0].unintendedConsequences),l[0]&1&&(o.objectives=i[0].objectives),l[0]&1&&(o.stakeholders=i[0].stakeholders),l[0]&1&&(o.intendedConsequences=i[0].intendedConsequences),e.$set(o)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){ae(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function yi(t){let e,n,i,l,o,u,f,r,c,b=t[1]&&$t(t),v=t[2]&&en(t),d=t[3]&&tn(t),m=t[4]&&nn(t),k=t[5]&&ln(t),_=t[6]&&on(t),g=t[7]&&sn(t),y=t[8]&&rn(t);return{c(){b&&b.c(),e=L(),v&&v.c(),n=L(),d&&d.c(),i=L(),m&&m.c(),l=L(),k&&k.c(),o=L(),_&&_.c(),u=L(),g&&g.c(),f=L(),y&&y.c(),r=gt()},m(w,q){b&&b.m(w,q),W(w,e,q),v&&v.m(w,q),W(w,n,q),d&&d.m(w,q),W(w,i,q),m&&m.m(w,q),W(w,l,q),k&&k.m(w,q),W(w,o,q),_&&_.m(w,q),W(w,u,q),g&&g.m(w,q),W(w,f,q),y&&y.m(w,q),W(w,r,q),c=!0},p(w,q){w[1]?b?(b.p(w,q),q[0]&2&&Q(b,1)):(b=$t(w),b.c(),Q(b,1),b.m(e.parentNode,e)):b&&(Ne(),ae(b,1,1,()=>{b=null}),He()),w[2]?v?(v.p(w,q),q[0]&4&&Q(v,1)):(v=en(w),v.c(),Q(v,1),v.m(n.parentNode,n)):v&&(Ne(),ae(v,1,1,()=>{v=null}),He()),w[3]?d?(d.p(w,q),q[0]&8&&Q(d,1)):(d=tn(w),d.c(),Q(d,1),d.m(i.parentNode,i)):d&&(Ne(),ae(d,1,1,()=>{d=null}),He()),w[4]?m?(m.p(w,q),q[0]&16&&Q(m,1)):(m=nn(w),m.c(),Q(m,1),m.m(l.parentNode,l)):m&&(Ne(),ae(m,1,1,()=>{m=null}),He()),w[5]?k?(k.p(w,q),q[0]&32&&Q(k,1)):(k=ln(w),k.c(),Q(k,1),k.m(o.parentNode,o)):k&&(Ne(),ae(k,1,1,()=>{k=null}),He()),w[6]?_?(_.p(w,q),q[0]&64&&Q(_,1)):(_=on(w),_.c(),Q(_,1),_.m(u.parentNode,u)):_&&(Ne(),ae(_,1,1,()=>{_=null}),He()),w[7]?g?(g.p(w,q),q[0]&128&&Q(g,1)):(g=sn(w),g.c(),Q(g,1),g.m(f.parentNode,f)):g&&(Ne(),ae(g,1,1,()=>{g=null}),He()),w[8]?y?(y.p(w,q),q[0]&256&&Q(y,1)):(y=rn(w),y.c(),Q(y,1),y.m(r.parentNode,r)):y&&(Ne(),ae(y,1,1,()=>{y=null}),He())},i(w){c||(Q(b),Q(v),Q(d),Q(m),Q(k),Q(_),Q(g),Q(y),c=!0)},o(w){ae(b),ae(v),ae(d),ae(m),ae(k),ae(_),ae(g),ae(y),c=!1},d(w){w&&(K(e),K(n),K(i),K(l),K(o),K(u),K(f),K(r)),b&&b.d(w),v&&v.d(w),d&&d.d(w),m&&m.d(w),k&&k.d(w),_&&_.d(w),g&&g.d(w),y&&y.d(w)}}}function wi(){let t=document.querySelector(".project-overview").outerHTML;t=t.replace("<button>Get full report</button>",""),t=t.replace("<button>Download the data</button>","");let e=`
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Project Data</title>
        <!-- Include Water.css (light theme) -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
    </head>
    <body>
        ${t}
    </body>
    </html>
    `,n=new Blob([e],{type:"text/html"}),i=window.URL.createObjectURL(n);const l=document.createElement("a");l.style.display="none",l.href=i,l.download="project_data.html",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(i),document.body.removeChild(l)}function Ci(t,e,n){let i=!0,l=!1,o=!1,u=!1,f=!1,r=!1,c=!1,b=!1,v=null,d={title:"",selectedFile:null,selectedStudy:null,objectives:"",stakeholders:[{text:"",type:""}],dataUsed:"",intendedConsequences:[{description:""}],unintendedConsequences:[{description:"",impact:["High","Medium","Low"],selectedImpact:"",outcome:["Positive","Negative"],selectedOutcome:"",likelihood:["High","Medium","Low"],selectedLikelihood:"",action:"",AIM:["Act","Influence","Monitor"],selectedAIM:"",timeline:["3 months","6 months","1 year","2 years"],selectedTimeline:"",KPI:""}],preLoadedStudies:["Case Study 1","Case Study 2","Case Study 3"]};function m(){n(2,l=!0),n(1,i=!1)}function k(N){n(0,d.title=N.detail.title,d),n(0,d.objectives=N.detail.objectives,d),n(0,d.stakeholders=N.detail.stakeholders,d),n(0,d.dataUsed=N.detail.dataUsed,d),_()}function _(){n(4,u=!1),n(5,f=!0)}function g(){n(2,l=!1),n(3,o=!0)}function y(){n(5,f=!1),n(6,r=!0)}function w(){n(8,b=!0)}function q(){const N=[];function A(B,E){E.forEach((R,D)=>{for(const[le,ue]of Object.entries(R))N.push({Section:`${B} ${D+1}`,Key:le,Value:ue})})}for(const[B,E]of Object.entries(d))Array.isArray(E)?typeof E[0]=="object"?A(B,E):E.forEach((R,D)=>{N.push({Section:B,Key:D,Value:R})}):(typeof E=="string"||typeof E=="number")&&N.push({Section:B,Key:"",Value:E});const V=Yn.unparse(N),Y=new Blob([V],{type:"text/csv"}),F=window.URL.createObjectURL(Y),O=document.createElement("a");O.style.display="none",O.href=F,O.download="project_data.csv",document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(F),document.body.removeChild(O)}function H(){const N=JSON.parse(JSON.stringify(d));N.unintendedConsequences.forEach(O=>{O.impact=O.selectedImpact,O.outcome=O.selectedOutcome,O.likelihood=O.selectedLikelihood,O.timeline=O.selectedTimeline,O.AIM=O.selectedAIM,delete O.selectedImpact,delete O.selectedOutcome,delete O.selectedLikelihood,delete O.selectedAIM,delete O.selectedTimeline,delete O.impact,delete O.outcome,delete O.likelihood,delete O.AIM});const A=JSON.stringify(N,null,2),V=new Blob([A],{type:"application/json"}),Y=window.URL.createObjectURL(V),F=document.createElement("a");F.style.display="none",F.href=Y,F.download="project_data.json",document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(Y),document.body.removeChild(F)}function $(N){const A=N.detail.format;A==="csv"?q():A==="json"?H():A==="html"&&wi()}function X(N,A){n(0,d.unintendedConsequences[N].selectedLikelihood=A,d)}function J(N,A){n(0,d.unintendedConsequences[N].selectedImpact=A,d)}function a(){n(6,r=!1),n(5,f=!1),n(7,c=!0)}function h(N,A){n(0,d.unintendedConsequences[N].action=A,d)}function S(N,A){n(0,d.unintendedConsequences[N].KPI=A,d)}function M(N,A){n(0,d.unintendedConsequences[N].selectedTimeline=A,d)}function T(N,A){n(0,d.unintendedConsequences[N].selectedAIM=A,d)}function I(N){const A=N.detail;n(0,d=A),n(2,l=!1),n(3,o=!1),n(4,u=!0),n(5,f=!0),n(6,r=!0),n(7,c=!0),n(8,b=!0)}function P(){if(!d.selectedFile){alert("No file selected!");return}console.log(`Uploading ${d.selectedFile.name}...`),setTimeout(()=>{console.log(`Successfully uploaded ${d.selectedFile.name}`),alert(`Successfully uploaded ${d.selectedFile.name}`)},2e3),n(4,u=!0)}function te(){n(3,o=!1),n(2,l=!1),n(4,u=!0)}function x(N){const A=N.detail.study;n(0,d.selectedStudy=A,d),alert(`You have selected ${d.selectedStudy}`),n(3,o=!1),n(4,u=!0)}function j(){n(0,d.stakeholders=[...d.stakeholders,{text:"",type:""}],d)}function Z(){n(0,d.intendedConsequences=[...d.intendedConsequences,{description:""}],d)}function U(){n(0,d.unintendedConsequences=[...d.unintendedConsequences,{description:"",impact:["H","M","L"],selectedImpact:"",outcome:["Positive","Negative"],selectedOutcome:"",likelihood:["H","M","L"],selectedLikelihood:"",action:"",AIM:["Act","Influence","Monitor"],selectedAIM:"",timeline:""}],d)}function G(N){v=N,n(9,v)}return t.$$.update=()=>{t.$$.dirty[0]&1&&console.log("Current project title:",d.title)},[d,i,l,o,u,f,r,c,b,v,m,k,g,y,w,$,X,J,a,h,S,M,T,I,P,te,x,j,Z,U,G]}class Ii extends Pe{constructor(e){super(),Te(this,e,Ci,yi,Ee,{},null,[-1,-1])}}function cn(t,e,n){const i=t.slice();return i[1]=e[n],i}function un(t){let e,n=t[1].name+"",i;return{c(){e=p("a"),i=ee(n),C(e,"href",`#${t[1].id}`),C(e,"class","section-link "+(t[1].visible?"visible":""))},m(l,o){W(l,e,o),s(e,i)},p:ie,d(l){l&&K(e)}}}function Ai(t){let e,n,i,l,o,u,f,r,c,b,v,d=pe(t[0]),m=[];for(let k=0;k<d.length;k+=1)m[k]=un(cn(t,d,k));return b=new Ii({}),{c(){e=p("div");for(let k=0;k<m.length;k+=1)m[k].c();n=L(),i=p("div"),l=p("img"),u=L(),f=p("h1"),f.innerHTML="Interactive Tool:<br/> Consequence Scanning",r=L(),c=p("div"),Re(b.$$.fragment),C(l,"alt","hi"),kn(l.src,o=qi)||C(l,"src",o),C(i,"class","logo"),C(e,"class","navbar"),C(f,"id","title"),C(c,"id","main-container")},m(k,_){W(k,e,_);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(e,null);s(e,n),s(e,i),s(i,l),W(k,u,_),W(k,f,_),W(k,r,_),W(k,c,_),Oe(b,c,null),v=!0},p(k,[_]){if(_&1){d=pe(k[0]);let g;for(g=0;g<d.length;g+=1){const y=cn(k,d,g);m[g]?m[g].p(y,_):(m[g]=un(y),m[g].c(),m[g].m(e,n))}for(;g<m.length;g+=1)m[g].d(1);m.length=d.length}},i(k){v||(Q(b.$$.fragment,k),v=!0)},o(k){ae(b.$$.fragment,k),v=!1},d(k){k&&(K(e),K(u),K(f),K(r),K(c)),Le(m,k),Me(b)}}}let qi="./odi-logo.png";function Si(t){return[[{id:"ProjectBrief",name:"Project Brief",visible:!1},{id:"IntendedConsequences",name:"Intended Consequences",visible:!1},{id:"UnintendedConsequences",name:"Unintended Consequences",visible:!1},{id:"Review",name:"Review",visible:!1}]]}class Li extends Pe{constructor(e){super(),Te(this,e,Si,Ai,Ee,{})}}new Li({target:document.getElementById("app")});
