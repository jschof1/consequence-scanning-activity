var Rn=Object.defineProperty;var In=(t,e,n)=>e in t?Rn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>(In(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function $(){}const gn=t=>t;function Pn(t,e){for(const n in e)t[n]=e[n];return t}function mn(t){return t()}function Pt(){return Object.create(null)}function Me(t){t.forEach(mn)}function Ze(t){return typeof t=="function"}function He(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let _t;function qn(t,e){return t===e?!0:(_t||(_t=document.createElement("a")),_t.href=e,t===_t.href)}function Tn(t){return Object.keys(t).length===0}function ht(t,...e){if(t==null){for(const i of e)i(void 0);return $}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function We(t){let e;return ht(t,n=>e=n)(),e}function Mn(t,e,n){t.$$.on_destroy.push(ht(e,n))}function On(t,e,n,i){if(t){const s=bn(t,e,n,i);return t[0](s)}}function bn(t,e,n,i){return t[1]&&i?Pn(n.ctx.slice(),t[1](i(e))):n.ctx}function Hn(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],a=Math.max(e.dirty.length,s.length);for(let h=0;h<a;h+=1)l[h]=e.dirty[h]|s[h];return l}return e.dirty|s}return e.dirty}function Fn(t,e,n,i,s,l){if(s){const a=bn(e,n,i,l);t.p(a,s)}}function Ln(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}const vn=typeof window<"u";let Nn=vn?()=>window.performance.now():()=>Date.now(),St=vn?t=>requestAnimationFrame(t):$;const rt=new Set;function yn(t){rt.forEach(e=>{e.c(t)||(rt.delete(e),e.f())}),rt.size!==0&&St(yn)}function Dn(t){let e;return rt.size===0&&St(yn),{promise:new Promise(n=>{rt.add(e={c:t,f:n})}),abort(){rt.delete(e)}}}function r(t,e){t.appendChild(e)}function wn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Un(t){const e=m("style");return e.textContent="/* empty */",jn(wn(t),e),e.sheet}function jn(t,e){return r(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function Ge(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function Y(t){return document.createTextNode(t)}function E(){return Y(" ")}function At(){return Y("")}function Q(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function zn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function A(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Bn(t){return Array.from(t.childNodes)}function ye(t,e){e=""+e,t.data!==e&&(t.data=e)}function oe(t,e){t.value=e??""}function Wn(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Ke(t,e,n){for(let i=0;i<t.options.length;i+=1){const s=t.options[i];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function ft(t){const e=t.querySelector(":checked");return e&&e.__value}function De(t,e,n){t.classList.toggle(e,!!n)}function kn(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}const mt=new Map;let bt=0;function Kn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Qn(t,e){const n={stylesheet:Un(e),rules:{}};return mt.set(t,n),n}function Jn(t,e,n,i,s,l,a,h=0){const u=16.666/i;let o=`{
`;for(let g=0;g<=1;g+=u){const d=e+(n-e)*l(g);o+=g*100+`%{${a(d,1-d)}}
`}const f=o+`100% {${a(n,1-n)}}
}`,b=`__svelte_${Kn(f)}_${h}`,y=wn(t),{stylesheet:w,rules:c}=mt.get(y)||Qn(y,t);c[b]||(c[b]=!0,w.insertRule(`@keyframes ${b} ${f}`,w.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${b} ${i}ms linear ${s}ms 1 both`,bt+=1,b}function qt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),bt-=s,bt||Vn())}function Vn(){St(()=>{bt||(mt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),mt.clear())})}let pt;function dt(t){pt=t}function Gn(){if(!pt)throw new Error("Function called outside component initialization");return pt}function Xe(){const t=Gn();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const l=kn(e,n,{cancelable:i});return s.slice().forEach(a=>{a.call(t,l)}),!l.defaultPrevented}return!0}}const lt=[],wt=[];let ot=[];const kt=[],Yn=Promise.resolve();let Ct=!1;function Zn(){Ct||(Ct=!0,Yn.then(Cn))}function qe(t){ot.push(t)}function Xn(t){kt.push(t)}const yt=new Set;let it=0;function Cn(){if(it!==0)return;const t=pt;do{try{for(;it<lt.length;){const e=lt[it];it++,dt(e),$n(e.$$)}}catch(e){throw lt.length=0,it=0,e}for(dt(null),lt.length=0,it=0;wt.length;)wt.pop()();for(let e=0;e<ot.length;e+=1){const n=ot[e];yt.has(n)||(yt.add(n),n())}ot.length=0}while(lt.length);for(;kt.length;)kt.pop()();Ct=!1,yt.clear(),dt(t)}function $n(t){if(t.fragment!==null){t.update(),Me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(qe)}}function xn(t){const e=[],n=[];ot.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),ot=e}let ut;function ei(){return ut||(ut=Promise.resolve(),ut.then(()=>{ut=null})),ut}function Tt(t,e,n){t.dispatchEvent(kn(`${e?"intro":"outro"}${n}`))}const gt=new Set;let xe;function Je(){xe={r:0,c:[],p:xe}}function Ve(){xe.r||Me(xe.c),xe=xe.p}function F(t,e){t&&t.i&&(gt.delete(t),t.i(e))}function le(t,e,n,i){if(t&&t.o){if(gt.has(t))return;gt.add(t),xe.c.push(()=>{gt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const ti={duration:0};function tt(t,e,n){const i={direction:"in"};let s=e(t,n,i),l=!1,a,h,u=0;function o(){a&&qt(t,a)}function f(){const{delay:y=0,duration:w=300,easing:c=gn,tick:v=$,css:g}=s||ti;g&&(a=Jn(t,0,1,w,y,c,g,u++)),v(0,1);const d=Nn()+y,k=d+w;h&&h.abort(),l=!0,qe(()=>Tt(t,!0,"start")),h=Dn(C=>{if(l){if(C>=k)return v(1,0),Tt(t,!0,"end"),o(),l=!1;if(C>=d){const z=c((C-d)/w);v(z,1-z)}}return l})}let b=!1;return{start(){b||(b=!0,qt(t),Ze(s)?(s=s(i),ei().then(f)):f())},invalidate(){b=!1},end(){l&&(o(),l=!1)}}}function Ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ni(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Te(t){t&&t.c()}function Ie(t,e,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),qe(()=>{const l=t.$$.on_mount.map(mn).filter(Ze);t.$$.on_destroy?t.$$.on_destroy.push(...l):Me(l),t.$$.on_mount=[]}),s.forEach(qe)}function Pe(t,e){const n=t.$$;n.fragment!==null&&(xn(n.after_update),Me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ii(t,e){t.$$.dirty[0]===-1&&(lt.push(t),Zn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ue(t,e,n,i,s,l,a,h=[-1]){const u=pt;dt(t);const o=t.$$={fragment:null,ctx:[],props:l,update:$,not_equal:s,bound:Pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Pt(),dirty:h,skip_bound:!1,root:e.target||u.$$.root};a&&a(o.root);let f=!1;if(o.ctx=n?n(t,e.props||{},(b,y,...w)=>{const c=w.length?w[0]:y;return o.ctx&&s(o.ctx[b],o.ctx[b]=c)&&(!o.skip_bound&&o.bound[b]&&o.bound[b](c),f&&ii(t,b)),y}):[],o.update(),f=!0,Me(o.before_update),o.fragment=i?i(o.ctx):!1,e.target){if(e.hydrate){const b=Bn(e.target);o.fragment&&o.fragment.l(b),b.forEach(T)}else o.fragment&&o.fragment.c();e.intro&&F(t.$$.fragment),Ie(t,e.target,e.anchor),Cn()}dt(u)}class je{constructor(){D(this,"$$");D(this,"$$set")}$destroy(){Pe(this,1),this.$destroy=$}$on(e,n){if(!Ze(n))return $;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Tn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const si="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(si);const st=[];function li(t,e){return{subscribe:ze(t,e).subscribe}}function ze(t,e=$){let n;const i=new Set;function s(h){if(He(t,h)&&(t=h,n)){const u=!st.length;for(const o of i)o[1](),st.push(o,t);if(u){for(let o=0;o<st.length;o+=2)st[o][0](st[o+1]);st.length=0}}}function l(h){s(h(t))}function a(h,u=$){const o=[h,u];return i.add(o),i.size===1&&(n=e(s,l)||$),h(t),()=>{i.delete(o),i.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:a}}function Be(t,e,n){const i=!Array.isArray(t),s=i?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return li(n,(a,h)=>{let u=!1;const o=[];let f=0,b=$;const y=()=>{if(f)return;b();const c=e(i?o[0]:o,a,h);l?a(c):b=Ze(c)?c:$},w=s.map((c,v)=>ht(c,g=>{o[v]=g,f&=~(1<<v),u&&y()},()=>{f|=1<<v}));return u=!0,y(),function(){Me(w),b(),u=!1}})}const Sn=t=>t==null||t==="",ri=t=>!Sn(t),et=t=>{const e=t.toString();if(typeof t=="string")return{callback:n=>n[t],identifier:e,key:t};if(typeof t=="function")return{callback:t,identifier:e,key:void 0};throw new Error(`Invalid field argument: ${String(t)}`)},Qe={isLike:(t,e)=>Ne(t).indexOf(Ne(e))>-1,isNotLike:(t,e)=>Ne(t).indexOf(Ne(e))===-1,startsWith:(t,e)=>Ne(t).startsWith(Ne(e)),endsWith:(t,e)=>Ne(t).endsWith(Ne(e)),isEqualTo:(t,e)=>Ne(t)===Ne(e),isNotEqualTo:(t,e)=>Ne(t)!==Ne(e),isGreaterThan:(t,e)=>$e(t)?!1:t>e,isGreaterThanOrEqualTo:(t,e)=>$e(t)?!1:t>=e,isLessThan:(t,e)=>$e(t)?!1:t<e,isLessThanOrEqualTo:(t,e)=>$e(t)?!1:t<=e,isBetween:(t,e)=>{if($e(t))return!1;const[n,i]=e;return t>=n&&t<=i},isStrictlyBetween:(t,e)=>{if($e(t))return!1;const[n,i]=e;return t>n&&t<i},isTrue:(t,e)=>t===!0,isFalse:(t,e)=>t===!1,isNull:(t,e)=>t==null,isNotNull:(t,e)=>t!=null,whereIn:(t,e=[])=>{if($e(t)||e.length===0)return!1;for(const{value:n,comparator:i}of e)if(i(t,n))return!0;return!1},contains:(t,e)=>Qe.isLike(t,e)};function Ne(t=null){return String(t).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function $e(t){if(t==null)return!0}class oi{constructor(){D(this,"events",{change:[],clearFilters:[],clearSearch:[]});D(this,"triggerChange",ze(0))}add(e,n){this.events[e].push(n)}trigger(e){for(const n of this.events[e])n();e==="change"&&this.triggerChange.update(n=>n+1)}}class ai{constructor(e,n){D(this,"event");D(this,"rowsPerPage");D(this,"pageNumber");D(this,"search");D(this,"filters");D(this,"filterCount");D(this,"rawRows");D(this,"filteredRows");D(this,"pagedRows");D(this,"rowCount");D(this,"pages");D(this,"pagesWithEllipsis");D(this,"pageCount");D(this,"sort");D(this,"selected");D(this,"selectScope");D(this,"isAllSelected");this.event=new oi,this.rowsPerPage=ze(n.rowsPerPage),this.pageNumber=ze(1),this.search=ze({}),this.filters=ze([]),this.filterCount=this.createFilterCount(),this.rawRows=ze(e),this.filteredRows=this.createFilteredRows(),this.pagedRows=this.createPagedRows(),this.rowCount=this.createRowCount(),this.pages=this.createPages(),this.pagesWithEllipsis=this.createPagesWithEllipsis(),this.pageCount=this.createPageCount(),this.sort=ze({}),this.selected=ze([]),this.selectScope=ze("all"),this.isAllSelected=this.createIsAllSelected()}createFilterCount(){return Be(this.filters,e=>e.length)}createFilteredRows(){return Be([this.rawRows,this.search,this.filters],([e,n,i])=>(n.value&&(e=e.filter(s=>(n.scope??Object.keys(s)).map(h=>{const{callback:u}=et(h);return u}).some(h=>this.match(h(s),n.value))),this.pageNumber.set(1),this.selected.set([]),this.event.trigger("change")),i.length>0&&(i.forEach(s=>e=e.filter(l=>{const a=s.callback(l);return this.match(a,s.value,s.comparator)})),this.pageNumber.set(1),this.selected.set([]),this.event.trigger("change")),e))}match(e,n,i=null){if(Sn(n))return!0;if(!e&&i)return i(e,n);if(e){if(typeof e=="object")return Object.keys(e).some(s=>this.match(e[s],n,i))}else return Qe.isLike(e,n);return i?i(e,n):Qe.isLike(e,n)}createPagedRows(){return Be([this.filteredRows,this.rowsPerPage,this.pageNumber],([e,n,i])=>n?e.slice((i-1)*n,i*n):e)}createRowCount(){return Be([this.filteredRows,this.pageNumber,this.rowsPerPage],([e,n,i])=>{const s=e.length;return i?{total:s,start:n*i-i+1,end:Math.min(n*i,e.length)}:{total:s,start:1,end:s}})}createPages(){return Be([this.rowsPerPage,this.filteredRows],([e,n])=>e?Array.from(Array(Math.ceil(n.length/e))).map((s,l)=>l+1):[1])}createPagesWithEllipsis(){return Be([this.pages,this.pageNumber],([e,n])=>{if(e.length<=7)return e;const i=null,s=1,l=e.length;return n<=4?[...e.slice(0,5),i,l]:n<e.length-3?[s,i,...e.slice(n-2,n+1),i,l]:[s,i,...e.slice(e.length-5,e.length)]})}createPageCount(){return Be(this.pages,e=>e.length)}createIsAllSelected(){return Be([this.selected,this.pagedRows,this.filteredRows,this.selectScope],([e,n,i,s])=>{const l=s==="currentPage"?n.length:i.length;return l===e.length&&l!==0})}}class ui{constructor(e){D(this,"rawRows");D(this,"event");D(this,"sort");D(this,"backup");this.rawRows=e.rawRows,this.event=e.event,this.sort=e.sort,this.backup=[]}set(e=null){if(!e)return;const n=We(this.sort),{identifier:i}=et(e);n.identifier!==i&&this.sort.update(s=>s.direction=null),n.direction===null||n.direction==="desc"?this.asc(e):n.direction==="asc"&&this.desc(e)}asc(e,n="asc"){if(!e)return;const{identifier:i,callback:s,key:l}=et(e);this.sort.set({identifier:i,callback:s,direction:n,key:l}),this.rawRows.update(a=>(a.sort((h,u)=>{const[o,f]=[s(h),s(u)];return o===f?0:o===null?1:f===null?-1:typeof o=="boolean"?o===!1?1:-1:typeof o=="string"?o.localeCompare(f):typeof o=="number"?o-f:typeof o=="object"?JSON.stringify(o).localeCompare(JSON.stringify(f)):String(o).localeCompare(String(f))}),a)),this.log({identifier:i,callback:s,direction:n}),this.event.trigger("change")}desc(e,n="desc"){if(!e)return;const{identifier:i,callback:s,key:l}=et(e);this.sort.set({identifier:i,callback:s,direction:n,key:l}),this.rawRows.update(a=>(a.sort((h,u)=>{const[o,f]=[s(h),s(u)];return o===f?0:o===null?1:f===null?-1:typeof f=="boolean"?f===!1?1:-1:typeof f=="string"?f.localeCompare(o):typeof f=="number"?f-o:typeof f=="object"?JSON.stringify(f).localeCompare(JSON.stringify(o)):String(f).localeCompare(String(o))}),a)),this.log({identifier:i,callback:s,direction:n}),this.event.trigger("change")}apply(e=null){if(e)switch(e.direction){case"asc":return this.asc(e.orderBy);case"desc":return this.desc(e.orderBy);default:return this.set(e.orderBy)}else this.restore()}clear(){this.backup=[],this.sort.set({})}define(e,n="asc"){if(!e)return;const{identifier:i,callback:s,key:l}=et(e);this.sort.set({identifier:i,callback:s,direction:n,key:l})}restore(){for(const e of this.backup){const{key:n,callback:i,direction:s}=e,l=n??i;this[s](l)}}log(e){if(this.backup=this.backup.filter(n=>n.identifier!==e.identifier),this.backup.length>=3){const[n,i,s]=this.backup;this.backup=[i,s,e]}else this.backup=[...this.backup,e]}}class ci{constructor(e){D(this,"filteredRows");D(this,"pagedRows");D(this,"selected");D(this,"scope");D(this,"isAllSelected");D(this,"event");this.filteredRows=e.filteredRows,this.pagedRows=e.pagedRows,this.selected=e.selected,this.scope=e.selectScope,this.isAllSelected=e.isAllSelected,this.event=e.event}set(e){const n=We(this.selected);n.includes(e)?this.selected.set(n.filter(i=>i!==e)):this.selected.set([e,...n])}all(e=null){if(We(this.isAllSelected))return this.clear();const i=We(this.scope),s=We(i==="currentPage"?this.pagedRows:this.filteredRows);i==="currentPage"&&this.event.add("change",()=>this.clear()),e?this.selected.set(s.map(l=>l[e])):this.selected.set(s)}clear(){this.selected.set([])}}class fi{constructor(e){D(this,"pageNumber");D(this,"rowCount");D(this,"rowsPerPage");D(this,"event");this.pageNumber=e.pageNumber,this.rowCount=e.rowCount,this.rowsPerPage=e.rowsPerPage,this.event=e.event}goto(e){this.pageNumber.update(n=>{const i=We(this.rowsPerPage);if(i){const s=We(this.rowCount).total;e>=1&&e<=Math.ceil(s/i)&&(n=e,this.event.trigger("change"))}return n})}previous(){const e=We(this.pageNumber)-1;this.goto(e)}next(){const e=We(this.pageNumber)+1;this.goto(e)}}class di{constructor(e){D(this,"search");D(this,"event");this.search=e.search,this.event=e.event}set(e,n=null){this.search.update(i=>(i={value:e??"",scope:n??null},i))}clear(){this.search.set({value:null,scope:null}),this.event.trigger("change"),this.event.trigger("clearSearch")}}class hi{constructor(e){D(this,"filters");D(this,"event");D(this,"collection");this.filters=e.filters,this.event=e.event}set(e,n,i=null){const{callback:s,identifier:l,key:a}=et(n),h={value:e,identifier:l,callback:s,comparator:i,key:a};this.filters.update(u=>(u=u.filter(o=>o.identifier!==l),ri(e)&&u.push(h),u))}clear(){this.filters.set([]),this.event.trigger("change"),this.event.trigger("clearFilters")}get(){return this.collection?this.collection:(this.collection=this.createCollection(),this.collection)}createCollection(){return Be(this.filters,e=>e.map(({value:n,callback:i,key:s,comparator:l})=>({value:n,filterBy:s??i,check:l?l.name:"isLike"})))}}class pi{constructor(e,n,i){D(this,"filterHandler");D(this,"filterBy");D(this,"comparator");D(this,"callback");this.filterHandler=e,this.filterBy=n,this.comparator=i??Qe.isLike,this.callback=()=>null}set(e,n){n&&(this.comparator=n),this.filterHandler.set(e,this.filterBy,this.comparator)}clear(){this.callback(),this.filterHandler.set(void 0,this.filterBy)}on(e,n){this.callback=n}}class _i{constructor(e,n){D(this,"filterHandler");D(this,"criteria");D(this,"filterBy");D(this,"selected");this.filterHandler=e,this.filterBy=n,this.criteria=[],this.selected=ze([])}set(e,n=Qe.isLike){if(this.criteria.find(i=>i.value===e)?this.criteria=this.criteria.filter(i=>i.value!==e):this.criteria=[{value:e,comparator:n},...this.criteria],this.criteria.length===0)return this.clear();this.filterHandler.set(this.criteria,this.filterBy,Qe.whereIn),this.selected.set(this.criteria.map(i=>i.value))}getSelected(){return this.selected}clear(){this.criteria=[],this.selected.set([]),this.filterHandler.set(void 0,this.filterBy,Qe.whereIn)}}class gi{constructor(e,n,i){D(this,"rawRows");D(this,"filteredRows");D(this,"callback");D(this,"precision");this.rawRows=e.rawRows,this.filteredRows=e.filteredRows,this.callback=et(n).callback,this.precision=i.precision}distinct(e=null){const i=We(this.rawRows).map(a=>this.callback(a)),l=(e?e(i):i).reduce((a,h)=>(a[h]=(a[h]??0)+1,a),{});return Object.entries(l).map(([a,h])=>({value:a,count:h}))}avg(e=null){return Be(this.filteredRows,n=>{if(n.length===0)return 0;const i=n.map(l=>this.callback(l)).filter(Boolean),s=e?e(i):i;return this.round(s.reduce((l,a)=>l+a,0)/s.length)})}sum(e=null){return Be(this.filteredRows,n=>{const i=n.map(l=>this.callback(l)),s=e?e(i):i;return this.round(s.reduce((l,a)=>l+a,0))})}setPrecision(e){this.precision=e}round(e){if(this.precision===0)return Math.round(e);const n=Math.pow(10,this.precision);return Math.round((e+Number.EPSILON)*n)/n}}class An{constructor(e=[],n={rowsPerPage:null}){D(this,"context");D(this,"sortHandler");D(this,"selectHandler");D(this,"pageHandler");D(this,"searchHandler");D(this,"filterHandler");D(this,"i18n");this.i18n=this.translate(n.i18n),this.context=new ai(e,n),this.sortHandler=new ui(this.context),this.selectHandler=new ci(this.context),this.pageHandler=new fi(this.context),this.searchHandler=new di(this.context),this.filterHandler=new hi(this.context)}setRows(e){this.context.rawRows.set(e),this.context.event.trigger("change"),this.applySort()}getRows(){return this.context.pagedRows}getAllRows(){return this.context.filteredRows}getRowCount(){return this.context.rowCount}getRowsPerPage(){return this.context.rowsPerPage}getPages(e={ellipsis:!1}){return e.ellipsis?this.context.pagesWithEllipsis:this.context.pages}getPageCount(){return this.context.pageCount}getPageNumber(){return this.context.pageNumber}setPage(e){switch(e){case"previous":return this.pageHandler.previous();case"next":return this.pageHandler.next();default:return this.pageHandler.goto(e)}}search(e,n=null){this.searchHandler.set(e,n)}clearSearch(){this.searchHandler.clear()}sort(e){this.setPage(1),this.sortHandler.set(e)}sortAsc(e){this.setPage(1),this.sortHandler.asc(e)}sortDesc(e){this.setPage(1),this.sortHandler.desc(e)}getSort(){return this.context.sort}applySort(e=null){this.sortHandler.apply(e)}defineSort(e,n){this.sortHandler.define(e,n)}clearSort(){this.sortHandler.clear()}filter(e,n,i=null){this.filterHandler.set(e,n,i)}getFilters(){return this.filterHandler.get()}createFilter(e,n){return new pi(this.filterHandler,e,n)}createAdvancedFilter(e){return new _i(this.filterHandler,e)}getFilterCount(){return this.context.filterCount}clearFilters(){this.filterHandler.clear()}select(e){this.selectHandler.set(e)}getSelected(){return this.context.selected}selectAll(e={}){this.context.selectScope.set(e.scope==="currentPage"?"currentPage":"all"),this.selectHandler.all(e.selectBy??null)}isAllSelected(){return this.context.isAllSelected}on(e,n){this.context.event.add(e,n)}createCalculation(e,n=null){return new gi(this.context,e,{precision:(n==null?void 0:n.precision)??2})}translate(e){return{search:"Search...",show:"Show",entries:"entries",filter:"Filter",rowCount:"Showing {start} to {end} of {total} entries",noRows:"No entries found",previous:"Previous",next:"Next",...e}}update(e){console.log("%c%s","color:#e65100;background:#fff3e0;font-size:12px;border-radius:4px;padding:4px;text-align:center;","DataHandler.update(data) method is deprecated. Please use DataHandler.setRows(data) instead"),this.context.rawRows.set(e)}applySorting(e=null){this.applySort(e)}getSorted(){return this.getSort()}getTriggerChange(){return this.context.event.triggerChange}}var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var En={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,i){t.exports=i()})(mi,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s=!i.document&&!!i.postMessage,l=i.IS_PAPA_WORKER||!1,a={},h=0,u={parse:function(_,p){var S=(p=p||{}).dynamicTyping||!1;if(q(S)&&(p.dynamicTypingFunction=S,S={}),p.dynamicTyping=S,p.transform=!!q(p.transform)&&p.transform,p.worker&&u.WORKERS_SUPPORTED){var R=function(){if(!u.WORKERS_SUPPORTED)return!1;var j=(ee=i.URL||i.webkitURL||null,J=n.toString(),u.BLOB_URL||(u.BLOB_URL=ee.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))),V=new i.Worker(j),ee,J;return V.onmessage=k,V.id=h++,a[V.id]=V}();return R.userStep=p.step,R.userChunk=p.chunk,R.userComplete=p.complete,R.userError=p.error,p.step=q(p.step),p.chunk=q(p.chunk),p.complete=q(p.complete),p.error=q(p.error),delete p.worker,void R.postMessage({input:_,config:p,workerId:R.id})}var I=null;return u.NODE_STREAM_INPUT,typeof _=="string"?(_=function(j){return j.charCodeAt(0)===65279?j.slice(1):j}(_),I=p.download?new b(p):new w(p)):_.readable===!0&&q(_.read)&&q(_.on)?I=new c(p):(i.File&&_ instanceof File||_ instanceof Object)&&(I=new y(p)),I.stream(_)},unparse:function(_,p){var S=!1,R=!0,I=",",j=`\r
`,V='"',ee=V+V,J=!1,P=null,te=!1;(function(){if(typeof p=="object"){if(typeof p.delimiter!="string"||u.BAD_DELIMITERS.filter(function(H){return p.delimiter.indexOf(H)!==-1}).length||(I=p.delimiter),(typeof p.quotes=="boolean"||typeof p.quotes=="function"||Array.isArray(p.quotes))&&(S=p.quotes),typeof p.skipEmptyLines!="boolean"&&typeof p.skipEmptyLines!="string"||(J=p.skipEmptyLines),typeof p.newline=="string"&&(j=p.newline),typeof p.quoteChar=="string"&&(V=p.quoteChar),typeof p.header=="boolean"&&(R=p.header),Array.isArray(p.columns)){if(p.columns.length===0)throw new Error("Option columns is empty");P=p.columns}p.escapeChar!==void 0&&(ee=p.escapeChar+V),(typeof p.escapeFormulae=="boolean"||p.escapeFormulae instanceof RegExp)&&(te=p.escapeFormulae instanceof RegExp?p.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var O=new RegExp(g(V),"g");if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return ie(null,_,J);if(typeof _[0]=="object")return ie(P||Object.keys(_[0]),_,J)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||P),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),ie(_.fields||[],_.data||[],J);throw new Error("Unable to serialize unrecognized input");function ie(H,ne,_e){var X="";typeof H=="string"&&(H=JSON.parse(H)),typeof ne=="string"&&(ne=JSON.parse(ne));var ce=Array.isArray(H)&&0<H.length,W=!Array.isArray(ne[0]);if(ce&&R){for(var B=0;B<H.length;B++)0<B&&(X+=I),X+=x(H[B],B);0<ne.length&&(X+=j)}for(var U=0;U<ne.length;U++){var G=ce?H.length:ne[U].length,fe=!1,ue=ce?Object.keys(ne[U]).length===0:ne[U].length===0;if(_e&&!ce&&(fe=_e==="greedy"?ne[U].join("").trim()==="":ne[U].length===1&&ne[U][0].length===0),_e==="greedy"&&ce){for(var re=[],he=0;he<G;he++){var pe=W?H[he]:he;re.push(ne[U][pe])}fe=re.join("").trim()===""}if(!fe){for(var ae=0;ae<G;ae++){0<ae&&!ue&&(X+=I);var Se=ce&&W?H[ae]:ae;X+=x(ne[U][Se],ae)}U<ne.length-1&&(!_e||0<G&&!ue)&&(X+=j)}}return X}function x(H,ne){if(H==null)return"";if(H.constructor===Date)return JSON.stringify(H).slice(1,25);var _e=!1;te&&typeof H=="string"&&te.test(H)&&(H="'"+H,_e=!0);var X=H.toString().replace(O,ee);return(_e=_e||S===!0||typeof S=="function"&&S(H,ne)||Array.isArray(S)&&S[ne]||function(ce,W){for(var B=0;B<W.length;B++)if(-1<ce.indexOf(W[B]))return!0;return!1}(X,u.BAD_DELIMITERS)||-1<X.indexOf(I)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?V+X+V:X}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!i.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=d,u.ParserHandle=v,u.NetworkStreamer=b,u.FileStreamer=y,u.StringStreamer=w,u.ReadableStreamStreamer=c,i.jQuery){var o=i.jQuery;o.fn.parse=function(_){var p=_.config||{},S=[];return this.each(function(j){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)S.push({file:this.files[V],inputElem:this,instanceConfig:o.extend({},p)})}),R(),this;function R(){if(S.length!==0){var j,V,ee,J,P=S[0];if(q(_.before)){var te=_.before(P.file,P.inputElem);if(typeof te=="object"){if(te.action==="abort")return j="AbortError",V=P.file,ee=P.inputElem,J=te.reason,void(q(_.error)&&_.error({name:j},V,ee,J));if(te.action==="skip")return void I();typeof te.config=="object"&&(P.instanceConfig=o.extend(P.instanceConfig,te.config))}else if(te==="skip")return void I()}var O=P.instanceConfig.complete;P.instanceConfig.complete=function(ie){q(O)&&O(ie,P.file,P.inputElem),I()},u.parse(P.file,P.instanceConfig)}else q(_.complete)&&_.complete()}function I(){S.splice(0,1),R()}}}function f(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(p){var S=K(p);S.chunkSize=parseInt(S.chunkSize),p.step||p.chunk||(S.chunkSize=null),this._handle=new v(S),(this._handle.streamer=this)._config=S}).call(this,_),this.parseChunk=function(p,S){if(this.isFirstChunk&&q(this._config.beforeFirstChunk)){var R=this._config.beforeFirstChunk(p);R!==void 0&&(p=R)}this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+p;this._partialLine="";var j=this._handle.parse(I,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var V=j.meta.cursor;this._finished||(this._partialLine=I.substring(V-this._baseIndex),this._baseIndex=V),j&&j.data&&(this._rowCount+=j.data.length);var ee=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(l)i.postMessage({results:j,workerId:u.WORKER_ID,finished:ee});else if(q(this._config.chunk)&&!S){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);j=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!ee||!q(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ee||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(p){q(this._config.error)?this._config.error(p):l&&this._config.error&&i.postMessage({workerId:u.WORKER_ID,error:p,finished:!1})}}function b(_){var p;(_=_||{}).chunkSize||(_.chunkSize=u.RemoteChunkSize),f.call(this,_),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),s||(p.onload=N(this._chunkLoaded,this),p.onerror=N(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var S=this._config.downloadRequestHeaders;for(var R in S)p.setRequestHeader(R,S[R])}if(this._config.chunkSize){var I=this._start+this._config.chunkSize-1;p.setRequestHeader("Range","bytes="+this._start+"-"+I)}try{p.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}s&&p.status===0&&this._chunkError()}},this._chunkLoaded=function(){p.readyState===4&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:p.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(S){var R=S.getResponseHeader("Content-Range");return R===null?-1:parseInt(R.substring(R.lastIndexOf("/")+1))}(p),this.parseChunk(p.responseText)))},this._chunkError=function(S){var R=p.statusText||S;this._sendError(new Error(R))}}function y(_){var p,S;(_=_||{}).chunkSize||(_.chunkSize=u.LocalChunkSize),f.call(this,_);var R=typeof FileReader<"u";this.stream=function(I){this._input=I,S=I.slice||I.webkitSlice||I.mozSlice,R?((p=new FileReader).onload=N(this._chunkLoaded,this),p.onerror=N(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input;if(this._config.chunkSize){var j=Math.min(this._start+this._config.chunkSize,this._input.size);I=S.call(I,this._start,j)}var V=p.readAsText(I,this._config.encoding);R||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(p.error)}}function w(_){var p;f.call(this,_=_||{}),this.stream=function(S){return p=S,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var S,R=this._config.chunkSize;return R?(S=p.substring(0,R),p=p.substring(R)):(S=p,p=""),this._finished=!p,this.parseChunk(S)}}}function c(_){f.call(this,_=_||{});var p=[],S=!0,R=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&p.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):S=!0},this._streamData=N(function(I){try{p.push(typeof I=="string"?I:I.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch(j){this._streamError(j)}},this),this._streamError=N(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=N(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(_){var p,S,R,I=Math.pow(2,53),j=-I,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ee=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,P=0,te=0,O=!1,ie=!1,x=[],H={data:[],errors:[],meta:{}};if(q(_.step)){var ne=_.step;_.step=function(U){if(H=U,ce())X();else{if(X(),H.data.length===0)return;P+=U.data.length,_.preview&&P>_.preview?S.abort():(H.data=H.data[0],ne(H,J))}}}function _e(U){return _.skipEmptyLines==="greedy"?U.join("").trim()==="":U.length===1&&U[0].length===0}function X(){return H&&R&&(B("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),R=!1),_.skipEmptyLines&&(H.data=H.data.filter(function(U){return!_e(U)})),ce()&&function(){if(!H)return;function U(fe,ue){q(_.transformHeader)&&(fe=_.transformHeader(fe,ue)),x.push(fe)}if(Array.isArray(H.data[0])){for(var G=0;ce()&&G<H.data.length;G++)H.data[G].forEach(U);H.data.splice(0,1)}else H.data.forEach(U)}(),function(){if(!H||!_.header&&!_.dynamicTyping&&!_.transform)return H;function U(fe,ue){var re,he=_.header?{}:[];for(re=0;re<fe.length;re++){var pe=re,ae=fe[re];_.header&&(pe=re>=x.length?"__parsed_extra":x[re]),_.transform&&(ae=_.transform(ae,pe)),ae=W(pe,ae),pe==="__parsed_extra"?(he[pe]=he[pe]||[],he[pe].push(ae)):he[pe]=ae}return _.header&&(re>x.length?B("FieldMismatch","TooManyFields","Too many fields: expected "+x.length+" fields but parsed "+re,te+ue):re<x.length&&B("FieldMismatch","TooFewFields","Too few fields: expected "+x.length+" fields but parsed "+re,te+ue)),he}var G=1;return!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(U),G=H.data.length):H.data=U(H.data,0),_.header&&H.meta&&(H.meta.fields=x),te+=G,H}()}function ce(){return _.header&&x.length===0}function W(U,G){return fe=U,_.dynamicTypingFunction&&_.dynamicTyping[fe]===void 0&&(_.dynamicTyping[fe]=_.dynamicTypingFunction(fe)),(_.dynamicTyping[fe]||_.dynamicTyping)===!0?G==="true"||G==="TRUE"||G!=="false"&&G!=="FALSE"&&(function(ue){if(V.test(ue)){var re=parseFloat(ue);if(j<re&&re<I)return!0}return!1}(G)?parseFloat(G):ee.test(G)?new Date(G):G===""?null:G):G;var fe}function B(U,G,fe,ue){var re={type:U,code:G,message:fe};ue!==void 0&&(re.row=ue),H.errors.push(re)}this.parse=function(U,G,fe){var ue=_.quoteChar||'"';if(_.newline||(_.newline=function(pe,ae){pe=pe.substring(0,1048576);var Se=new RegExp(g(ae)+"([^]*?)"+g(ae),"gm"),ke=(pe=pe.replace(Se,"")).split("\r"),Oe=pe.split(`
`),Ee=1<Oe.length&&Oe[0].length<ke[0].length;if(ke.length===1||Ee)return`
`;for(var be=0,de=0;de<ke.length;de++)ke[de][0]===`
`&&be++;return be>=ke.length/2?`\r
`:"\r"}(U,ue)),R=!1,_.delimiter)q(_.delimiter)&&(_.delimiter=_.delimiter(U),H.meta.delimiter=_.delimiter);else{var re=function(pe,ae,Se,ke,Oe){var Ee,be,de,ve;Oe=Oe||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var ge=0;ge<Oe.length;ge++){var se=Oe[ge],we=0,L=0,Z=0;de=void 0;for(var Ae=new d({comments:ke,delimiter:se,newline:ae,preview:10}).parse(pe),Fe=0;Fe<Ae.data.length;Fe++)if(Se&&_e(Ae.data[Fe]))Z++;else{var Le=Ae.data[Fe].length;L+=Le,de!==void 0?0<Le&&(we+=Math.abs(Le-de),de=Le):de=Le}0<Ae.data.length&&(L/=Ae.data.length-Z),(be===void 0||we<=be)&&(ve===void 0||ve<L)&&1.99<L&&(be=we,Ee=se,ve=L)}return{successful:!!(_.delimiter=Ee),bestDelimiter:Ee}}(U,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);re.successful?_.delimiter=re.bestDelimiter:(R=!0,_.delimiter=u.DefaultDelimiter),H.meta.delimiter=_.delimiter}var he=K(_);return _.preview&&_.header&&he.preview++,p=U,S=new d(he),H=S.parse(p,G,fe),X(),O?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return O},this.pause=function(){O=!0,S.abort(),p=q(_.chunk)?"":p.substring(S.getCharIndex())},this.resume=function(){J.streamer._halted?(O=!1,J.streamer.parseChunk(p,!0)):setTimeout(J.resume,3)},this.aborted=function(){return ie},this.abort=function(){ie=!0,S.abort(),H.meta.aborted=!0,q(_.complete)&&_.complete(H),p=""}}function g(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d(_){var p,S=(_=_||{}).delimiter,R=_.newline,I=_.comments,j=_.step,V=_.preview,ee=_.fastMode,J=p=_.quoteChar===void 0||_.quoteChar===null?'"':_.quoteChar;if(_.escapeChar!==void 0&&(J=_.escapeChar),(typeof S!="string"||-1<u.BAD_DELIMITERS.indexOf(S))&&(S=","),I===S)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<u.BAD_DELIMITERS.indexOf(I))&&(I=!1),R!==`
`&&R!=="\r"&&R!==`\r
`&&(R=`
`);var P=0,te=!1;this.parse=function(O,ie,x){if(typeof O!="string")throw new Error("Input must be a string");var H=O.length,ne=S.length,_e=R.length,X=I.length,ce=q(j),W=[],B=[],U=[],G=P=0;if(!O)return Re();if(_.header&&!ie){var fe=O.split(R)[0].split(S),ue=[],re={},he=!1;for(var pe in fe){var ae=fe[pe];q(_.transformHeader)&&(ae=_.transformHeader(ae,pe));var Se=ae,ke=re[ae]||0;for(0<ke&&(he=!0,Se=ae+"_"+ke),re[ae]=ke+1;ue.includes(Se);)Se=Se+"_"+ke;ue.push(Se)}if(he){var Oe=O.split(R);Oe[0]=ue.join(S),O=Oe.join(R)}}if(ee||ee!==!1&&O.indexOf(p)===-1){for(var Ee=O.split(R),be=0;be<Ee.length;be++){if(U=Ee[be],P+=U.length,be!==Ee.length-1)P+=R.length;else if(x)return Re();if(!I||U.substring(0,X)!==I){if(ce){if(W=[],Z(U.split(S)),Ye(),te)return Re()}else Z(U.split(S));if(V&&V<=be)return W=W.slice(0,V),Re(!0)}}return Re()}for(var de=O.indexOf(S,P),ve=O.indexOf(R,P),ge=new RegExp(g(J)+g(p),"g"),se=O.indexOf(p,P);;)if(O[P]!==p)if(I&&U.length===0&&O.substring(P,P+X)===I){if(ve===-1)return Re();P=ve+_e,ve=O.indexOf(R,P),de=O.indexOf(S,P)}else if(de!==-1&&(de<ve||ve===-1))U.push(O.substring(P,de)),P=de+ne,de=O.indexOf(S,P);else{if(ve===-1)break;if(U.push(O.substring(P,ve)),Le(ve+_e),ce&&(Ye(),te))return Re();if(V&&W.length>=V)return Re(!0)}else for(se=P,P++;;){if((se=O.indexOf(p,se+1))===-1)return x||B.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:P}),Fe();if(se===H-1)return Fe(O.substring(P,se).replace(ge,p));if(p!==J||O[se+1]!==J){if(p===J||se===0||O[se-1]!==J){de!==-1&&de<se+1&&(de=O.indexOf(S,se+1)),ve!==-1&&ve<se+1&&(ve=O.indexOf(R,se+1));var we=Ae(ve===-1?de:Math.min(de,ve));if(O.substr(se+1+we,ne)===S){U.push(O.substring(P,se).replace(ge,p)),O[P=se+1+we+ne]!==p&&(se=O.indexOf(p,P)),de=O.indexOf(S,P),ve=O.indexOf(R,P);break}var L=Ae(ve);if(O.substring(se+1+L,se+1+L+_e)===R){if(U.push(O.substring(P,se).replace(ge,p)),Le(se+1+L+_e),de=O.indexOf(S,P),se=O.indexOf(p,P),ce&&(Ye(),te))return Re();if(V&&W.length>=V)return Re(!0);break}B.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:P}),se++}}else se++}return Fe();function Z(me){W.push(me),G=P}function Ae(me){var at=0;if(me!==-1){var vt=O.substring(se+1,me);vt&&vt.trim()===""&&(at=vt.length)}return at}function Fe(me){return x||(me===void 0&&(me=O.substring(P)),U.push(me),P=H,Z(U),ce&&Ye()),Re()}function Le(me){P=me,Z(U),U=[],ve=O.indexOf(R,P)}function Re(me){return{data:W,errors:B,meta:{delimiter:S,linebreak:R,aborted:te,truncated:!!me,cursor:G+(ie||0)}}}function Ye(){j(Re()),W=[],B=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return P}}function k(_){var p=_.data,S=a[p.workerId],R=!1;if(p.error)S.userError(p.error,p.file);else if(p.results&&p.results.data){var I={abort:function(){R=!0,C(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(q(S.userStep)){for(var j=0;j<p.results.data.length&&(S.userStep({data:p.results.data[j],errors:p.results.errors,meta:p.results.meta},I),!R);j++);delete p.results}else q(S.userChunk)&&(S.userChunk(p.results,I,p.file),delete p.results)}p.finished&&!R&&C(p.workerId,p.results)}function C(_,p){var S=a[_];q(S.userComplete)&&S.userComplete(p),S.terminate(),delete a[_]}function z(){throw new Error("Not implemented.")}function K(_){if(typeof _!="object"||_===null)return _;var p=Array.isArray(_)?[]:{};for(var S in _)p[S]=K(_[S]);return p}function N(_,p){return function(){_.apply(p,arguments)}}function q(_){return typeof _=="function"}return l&&(i.onmessage=function(_){var p=_.data;if(u.WORKER_ID===void 0&&p&&(u.WORKER_ID=p.workerId),typeof p.input=="string")i.postMessage({workerId:u.WORKER_ID,results:u.parse(p.input,p.config),finished:!0});else if(i.File&&p.input instanceof File||p.input instanceof Object){var S=u.parse(p.input,p.config);S&&i.postMessage({workerId:u.WORKER_ID,results:S,finished:!0})}}),(b.prototype=Object.create(f.prototype)).constructor=b,(y.prototype=Object.create(f.prototype)).constructor=y,(w.prototype=Object.create(w.prototype)).constructor=w,(c.prototype=Object.create(f.prototype)).constructor=c,u})})(En);var vi=En.exports;const yi=bi(vi);function nt(t,{delay:e=0,duration:n=400,easing:i=gn}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:l=>`opacity: ${l*s}`}}function Mt(t,e,n){const i=t.slice();return i[6]=e[n],i}function Ot(t){let e,n,i,s,l,a,h,u;return{c(){e=m("div"),n=m("div"),i=m("span"),i.textContent="×",s=E(),l=m("p"),l.textContent="Input some text explaining this section",A(i,"class","close"),A(n,"class","modal-content"),A(e,"class","modal")},m(o,f){M(o,e,f),r(e,n),r(n,i),r(n,s),r(n,l),h||(u=Q(i,"click",t[3]),h=!0)},p:$,i(o){o&&(a||qe(()=>{a=tt(e,nt,{duration:300}),a.start()}))},o:$,d(o){o&&T(e),h=!1,u()}}}function Ht(t){let e,n,i=t[6]+"",s,l,a,h;function u(){return t[4](t[6])}return{c(){e=m("li"),n=m("button"),s=Y(i),l=E(),A(n,"class","btn-white-styled")},m(o,f){M(o,e,f),r(e,n),r(n,s),r(e,l),a||(h=Q(n,"click",u),a=!0)},p(o,f){t=o,f&1&&i!==(i=t[6]+"")&&ye(s,i)},d(o){o&&T(e),a=!1,h()}}}function wi(t){let e,n,i,s,l,a,h,u,o,f,b=t[1]&&Ot(t),y=Ce(t[0]),w=[];for(let c=0;c<y.length;c+=1)w[c]=Ht(Mt(t,y,c));return{c(){e=m("div"),n=m("div"),i=m("h3"),i.textContent="Pick your case study",s=E(),l=m("button"),l.textContent="ℹ",a=E(),b&&b.c(),h=E(),u=m("ul");for(let c=0;c<w.length;c+=1)w[c].c();A(l,"class","info-button"),A(l,"title","Information"),A(n,"class","questions-header header-btn"),A(e,"class","card"),A(e,"id","Hypothesis")},m(c,v){M(c,e,v),r(e,n),r(n,i),r(n,s),r(n,l),r(n,a),b&&b.m(n,null),r(e,h),r(e,u);for(let g=0;g<w.length;g+=1)w[g]&&w[g].m(u,null);o||(f=Q(l,"click",t[3]),o=!0)},p(c,[v]){if(c[1]?b?(b.p(c,v),v&2&&F(b,1)):(b=Ot(c),b.c(),F(b,1),b.m(n,null)):b&&(b.d(1),b=null),v&5){y=Ce(c[0]);let g;for(g=0;g<y.length;g+=1){const d=Mt(c,y,g);w[g]?w[g].p(d,v):(w[g]=Ht(d),w[g].c(),w[g].m(u,null))}for(;g<w.length;g+=1)w[g].d(1);w.length=y.length}},i(c){F(b)},o:$,d(c){c&&T(e),b&&b.d(),Ge(w,c),o=!1,f()}}}function ki(t,e,n){let{preLoadedStudies:i}=e;const s=Xe();function l(o){s("proceed",{study:o})}let a=!1;function h(){n(1,a=!a)}const u=o=>l(o);return t.$$set=o=>{"preLoadedStudies"in o&&n(0,i=o.preLoadedStudies)},[i,a,l,h,u]}class Ci extends je{constructor(e){super(),Ue(this,e,ki,wi,He,{preLoadedStudies:0})}}function Ft(t){let e,n,i=t[0].name+"",s,l,a,h,u;return{c(){e=m("p"),n=Y("Selected file: "),s=Y(i),l=E(),a=m("button"),a.textContent="Upload your case study",A(a,"class","btn-white-styled")},m(o,f){M(o,e,f),r(e,n),r(e,s),M(o,l,f),M(o,a,f),h||(u=Q(a,"click",t[1]),h=!0)},p(o,f){f&1&&i!==(i=o[0].name+"")&&ye(s,i)},d(o){o&&(T(e),T(l),T(a)),h=!1,u()}}}function Si(t){let e,n,i,s,l,a,h,u,o,f,b,y,w,c,v=t[0]&&Ft(t);return{c(){e=m("div"),n=m("div"),n.innerHTML="<h3>Use the provided case study or enter your own</h3>",i=E(),s=m("p"),s.textContent="Would you like to upload your own case study or choose from our pre-loaded case studies?",l=E(),a=m("input"),h=E(),u=m("label"),o=m("button"),o.textContent="Choose File to Upload",f=E(),b=m("button"),b.textContent="Choose from our pre-loaded case studies",y=E(),v&&v.c(),A(n,"class","choose-header header-btn"),A(a,"type","file"),A(a,"id","caseStudyFile"),Wn(a,"display","none"),A(o,"class","btn-white-styled"),A(u,"for","caseStudyFile"),A(b,"class","btn-white-styled"),A(e,"class","card")},m(g,d){M(g,e,d),r(e,n),r(e,i),r(e,s),r(e,l),r(e,a),r(e,h),r(e,u),r(u,o),r(e,f),r(e,b),r(e,y),v&&v.m(e,null),w||(c=[Q(a,"change",t[3]),Q(o,"click",zn(t[4])),Q(b,"click",t[2])],w=!0)},p(g,[d]){g[0]?v?v.p(g,d):(v=Ft(g),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i:$,o:$,d(g){g&&T(e),v&&v.d(),w=!1,Me(c)}}}function Ai(t,e,n){let{selectedFile:i}=e;const s=Xe();function l(){s("proceed")}function a(){s("proceed")}function h(){l()}function u(){i=this.files,n(0,i)}const o=()=>document.getElementById("caseStudyFile").click();return t.$$set=f=>{"selectedFile"in f&&n(0,i=f.selectedFile)},[i,a,h,u,o]}class Ei extends je{constructor(e){super(),Ue(this,e,Ai,Si,He,{selectedFile:0})}}function Lt(t){let e,n,i,s,l,a,h,u;return{c(){e=m("div"),n=m("div"),i=m("span"),i.textContent="×",s=E(),l=m("p"),l.textContent="Input some text explaining this section",A(i,"class","close"),A(n,"class","modal-content"),A(e,"class","modal")},m(o,f){M(o,e,f),r(e,n),r(n,i),r(n,s),r(n,l),h||(u=Q(i,"click",t[4]),h=!0)},p:$,i(o){o&&(a||qe(()=>{a=tt(e,nt,{duration:300}),a.start()}))},o:$,d(o){o&&T(e),h=!1,u()}}}function Ri(t){let e,n,i,s,l,a,h,u,o,f,b,y,w,c,v,g,d,k,C,z,K,N,q,_,p,S=t[3]&&Lt(t);return{c(){e=m("div"),n=m("div"),i=m("h3"),i.textContent="Reflect on your project",s=E(),l=m("button"),l.textContent="ℹ",a=E(),S&&S.c(),h=E(),u=m("div"),o=m("p"),o.textContent="What are the objectives of your project?",f=E(),b=m("textarea"),y=E(),w=m("div"),c=m("p"),c.textContent="Who are the stakeholders?",v=E(),g=m("textarea"),d=E(),k=m("div"),C=m("p"),C.textContent="What data will you be using?",z=E(),K=m("textarea"),N=E(),q=m("button"),q.textContent="Proceed to Consequences",A(l,"class","info-button"),A(l,"title","Information"),A(n,"class","questions-header header-btn"),A(b,"class","textarea-padding"),A(u,"class","question"),A(g,"class","textarea-padding"),A(w,"class","question"),A(K,"class","textarea-padding"),A(k,"class","question"),A(q,"class","btn-white-styled"),A(e,"id","Questions"),A(e,"class","questions-section card")},m(R,I){M(R,e,I),r(e,n),r(n,i),r(n,s),r(n,l),r(n,a),S&&S.m(n,null),r(e,h),r(e,u),r(u,o),r(u,f),r(u,b),oe(b,t[0]),r(e,y),r(e,w),r(w,c),r(w,v),r(w,g),oe(g,t[1]),r(e,d),r(e,k),r(k,C),r(k,z),r(k,K),oe(K,t[2]),r(e,N),r(e,q),_||(p=[Q(l,"click",t[4]),Q(b,"input",t[6]),Q(g,"input",t[7]),Q(K,"input",t[8]),Q(q,"click",t[5])],_=!0)},p(R,[I]){R[3]?S?(S.p(R,I),I&8&&F(S,1)):(S=Lt(R),S.c(),F(S,1),S.m(n,null)):S&&(S.d(1),S=null),I&1&&oe(b,R[0]),I&2&&oe(g,R[1]),I&4&&oe(K,R[2])},i(R){F(S)},o:$,d(R){R&&T(e),S&&S.d(),_=!1,Me(p)}}}function Ii(t,e,n){let{objectives:i}=e,{stakeholders:s}=e,{dataUsed:l}=e;const a=Xe();let h=!1;function u(){n(3,h=!h)}function o(){a("proceed")}function f(){i=this.value,n(0,i)}function b(){s=this.value,n(1,s)}function y(){l=this.value,n(2,l)}return t.$$set=w=>{"objectives"in w&&n(0,i=w.objectives),"stakeholders"in w&&n(1,s=w.stakeholders),"dataUsed"in w&&n(2,l=w.dataUsed)},[i,s,l,h,u,o,f,b,y]}class Pi extends je{constructor(e){super(),Ue(this,e,Ii,Ri,He,{objectives:0,stakeholders:1,dataUsed:2})}}function Nt(t,e,n){const i=t.slice();return i[11]=e[n],i[12]=e,i[13]=n,i}function Dt(t){let e,n,i,s,l,a,h,u;return{c(){e=m("div"),n=m("div"),i=m("span"),i.textContent="×",s=E(),l=m("p"),l.textContent="Input some text explaining this section",A(i,"class","close"),A(n,"class","modal-content"),A(e,"class","modal")},m(o,f){M(o,e,f),r(e,n),r(n,i),r(n,s),r(n,l),h||(u=Q(i,"click",t[4]),h=!0)},p:$,i(o){o&&(a||qe(()=>{a=tt(e,nt,{duration:300}),a.start()}))},o:$,d(o){o&&T(e),h=!1,u()}}}function Ut(t){let e,n,i,s,l,a,h,u,o,f,b,y,w,c,v,g,d,k,C,z,K,N,q,_,p,S,R,I,j,V,ee,J,P,te,O,ie,x;function H(){t[5].call(s,t[12],t[13])}function ne(){t[6].call(o,t[12],t[13])}function _e(){t[7].call(g,t[12],t[13])}function X(){t[8].call(q,t[12],t[13])}function ce(){t[9].call(ee,t[12],t[13])}return{c(){e=m("div"),n=m("label"),i=Y(`Consequence
      `),s=m("textarea"),l=E(),a=m("div"),h=m("label"),u=Y(`Intended/Unintended
      `),o=m("select"),f=m("option"),f.textContent="Intended/Unintended",b=m("option"),b.textContent="Intended",y=m("option"),y.textContent="Unintended",w=E(),c=m("label"),v=Y(`Outcome
      `),g=m("select"),d=m("option"),d.textContent="Outcome",k=m("option"),k.textContent="Positive",C=m("option"),C.textContent="Negative",z=E(),K=m("label"),N=Y(`Priority
      `),q=m("select"),_=m("option"),_.textContent="Priority",p=m("option"),p.textContent="High",S=m("option"),S.textContent="Medium",R=m("option"),R.textContent="Low",I=E(),j=m("label"),V=Y(`Act/Influence/Monitor
      `),ee=m("select"),J=m("option"),J.textContent="Act, Influence, Monitor",P=m("option"),P.textContent="Act",te=m("option"),te.textContent="Influence",O=m("option"),O.textContent="Monitor",A(s,"class","consequence-input"),A(s,"placeholder","Description"),A(n,"for","description"),f.disabled=!0,f.selected=!0,f.__value="",oe(f,f.__value),b.__value="Intended",oe(b,b.__value),y.__value="Unintended",oe(y,y.__value),t[11].type===void 0&&qe(ne),A(h,"for","type"),d.disabled=!0,d.selected=!0,d.__value="",oe(d,d.__value),k.__value="Positive",oe(k,k.__value),C.__value="Negative",oe(C,C.__value),t[11].outcome===void 0&&qe(_e),A(c,"for","outcome"),_.disabled=!0,_.selected=!0,_.__value="",oe(_,_.__value),p.__value="High",oe(p,p.__value),S.__value="Medium",oe(S,S.__value),R.__value="Low",oe(R,R.__value),t[11].priority===void 0&&qe(X),A(K,"for","priority"),J.disabled=!0,J.selected=!0,J.__value="",oe(J,J.__value),P.__value="Act",oe(P,P.__value),te.__value="Influence",oe(te,te.__value),O.__value="Monitor",oe(O,O.__value),t[11].AIM===void 0&&qe(ce),A(j,"for","AIM"),A(a,"class","input-row"),A(e,"class","consequence-options")},m(W,B){M(W,e,B),r(e,n),r(n,i),r(n,s),oe(s,t[11].description),r(e,l),r(e,a),r(a,h),r(h,u),r(h,o),r(o,f),r(o,b),r(o,y),Ke(o,t[11].type,!0),r(a,w),r(a,c),r(c,v),r(c,g),r(g,d),r(g,k),r(g,C),Ke(g,t[11].outcome,!0),r(a,z),r(a,K),r(K,N),r(K,q),r(q,_),r(q,p),r(q,S),r(q,R),Ke(q,t[11].priority,!0),r(a,I),r(a,j),r(j,V),r(j,ee),r(ee,J),r(ee,P),r(ee,te),r(ee,O),Ke(ee,t[11].AIM,!0),ie||(x=[Q(s,"input",H),Q(o,"change",ne),Q(g,"change",_e),Q(q,"change",X),Q(ee,"change",ce)],ie=!0)},p(W,B){t=W,B&1&&oe(s,t[11].description),B&1&&Ke(o,t[11].type),B&1&&Ke(g,t[11].outcome),B&1&&Ke(q,t[11].priority),B&1&&Ke(ee,t[11].AIM)},d(W){W&&T(e),ie=!1,Me(x)}}}function qi(t){let e,n,i,s,l,a,h,u,o,f,b,y,w,c=t[2]&&Dt(t),v=Ce(t[0]),g=[];for(let d=0;d<v.length;d+=1)g[d]=Ut(Nt(t,v,d));return{c(){e=m("div"),n=m("div"),i=m("h3"),i.textContent="Consequences",s=E(),l=m("button"),l.textContent="ℹ",a=E(),c&&c.c(),h=E();for(let d=0;d<g.length;d+=1)g[d].c();u=E(),o=m("button"),o.textContent="Add More",f=E(),b=m("button"),b.textContent="Proceed to Review",A(l,"class","info-button"),A(l,"title","Information"),A(n,"class","header-btn"),A(o,"class","btn-white-styled"),A(b,"class","btn-white-styled"),A(e,"class","card"),A(e,"id","Consequences")},m(d,k){M(d,e,k),r(e,n),r(n,i),r(n,s),r(n,l),r(n,a),c&&c.m(n,null),r(e,h);for(let C=0;C<g.length;C+=1)g[C]&&g[C].m(e,null);r(e,u),r(e,o),r(e,f),r(e,b),y||(w=[Q(l,"click",t[4]),Q(o,"click",function(){Ze(t[1])&&t[1].apply(this,arguments)}),Q(b,"click",t[3])],y=!0)},p(d,[k]){if(t=d,t[2]?c?(c.p(t,k),k&4&&F(c,1)):(c=Dt(t),c.c(),F(c,1),c.m(n,null)):c&&(c.d(1),c=null),k&1){v=Ce(t[0]);let C;for(C=0;C<v.length;C+=1){const z=Nt(t,v,C);g[C]?g[C].p(z,k):(g[C]=Ut(z),g[C].c(),g[C].m(e,u))}for(;C<g.length;C+=1)g[C].d(1);g.length=v.length}},i(d){F(c)},o:$,d(d){d&&T(e),c&&c.d(),Ge(g,d),y=!1,Me(w)}}}function Ti(t,e,n){let{consequences:i}=e,{onAdd:s}=e,l=!1;const a=Xe();function h(){a("proceed")}function u(){n(2,l=!l)}function o(c,v){c[v].description=this.value,n(0,i)}function f(c,v){c[v].type=ft(this),n(0,i)}function b(c,v){c[v].outcome=ft(this),n(0,i)}function y(c,v){c[v].priority=ft(this),n(0,i)}function w(c,v){c[v].AIM=ft(this),n(0,i)}return t.$$set=c=>{"consequences"in c&&n(0,i=c.consequences),"onAdd"in c&&n(1,s=c.onAdd)},[i,s,l,h,u,o,f,b,y,w]}class Mi extends je{constructor(e){super(),Ue(this,e,Ti,qi,He,{consequences:0,onAdd:1})}}function Oi(t){let e,n,i,s,l,a,h,u;const o=t[6].default,f=On(o,t,t[5],null);return{c(){e=m("th"),n=m("div"),i=m("strong"),f&&f.c(),s=E(),l=m("span"),A(l,"class","svelte-11kevic"),De(l,"asc",t[2].direction==="asc"),De(l,"desc",t[2].direction==="desc"),A(n,"class","flex svelte-11kevic"),A(e,"class","svelte-11kevic"),De(e,"active",t[2].identifier===t[3])},m(b,y){M(b,e,y),r(e,n),r(n,i),f&&f.m(i,null),r(n,s),r(n,l),a=!0,h||(u=Q(e,"click",t[7]),h=!0)},p(b,[y]){f&&f.p&&(!a||y&32)&&Fn(f,o,b,b[5],a?Hn(o,b[5],y,null):Ln(b[5]),null),(!a||y&4)&&De(l,"asc",b[2].direction==="asc"),(!a||y&4)&&De(l,"desc",b[2].direction==="desc"),(!a||y&12)&&De(e,"active",b[2].identifier===b[3])},i(b){a||(F(f,b),a=!0)},o(b){le(f,b),a=!1},d(b){b&&T(e),f&&f.d(b),h=!1,u()}}}function Hi(t,e,n){let i,{$$slots:s={},$$scope:l}=e,{handler:a}=e,{orderBy:h=null}=e;const u=h?h.toString():void 0,o=a.getSort();Mn(t,o,b=>n(2,i=b));const f=()=>a.sort(h);return t.$$set=b=>{"handler"in b&&n(0,a=b.handler),"orderBy"in b&&n(1,h=b.orderBy),"$$scope"in b&&n(5,l=b.$$scope)},[a,h,i,u,o,l,s,f]}class ct extends je{constructor(e){super(),Ue(this,e,Hi,Oi,He,{handler:0,orderBy:1})}}function jt(t,e,n){const i=t.slice();return i[18]=e[n],i}function zt(t){let e,n,i,s,l,a,h,u;return{c(){e=m("div"),n=m("div"),i=m("span"),i.textContent="×",s=E(),l=m("p"),l.textContent="Input some text explaining this section",A(i,"class","close"),A(n,"class","modal-content"),A(e,"class","modal")},m(o,f){M(o,e,f),r(e,n),r(n,i),r(n,s),r(n,l),h||(u=Q(i,"click",t[11]),h=!0)},p:$,i(o){o&&(a||qe(()=>{a=tt(e,nt,{duration:300}),a.start()}))},o:$,d(o){o&&T(e),h=!1,u()}}}function Fi(t){let e;return{c(){e=Y("Consequence")},m(n,i){M(n,e,i)},d(n){n&&T(e)}}}function Li(t){let e;return{c(){e=Y("Priority")},m(n,i){M(n,e,i)},d(n){n&&T(e)}}}function Ni(t){let e;return{c(){e=Y("Type")},m(n,i){M(n,e,i)},d(n){n&&T(e)}}}function Di(t){let e;return{c(){e=Y("Outcome")},m(n,i){M(n,e,i)},d(n){n&&T(e)}}}function Ui(t){let e;return{c(){e=Y("AIM")},m(n,i){M(n,e,i)},d(n){n&&T(e)}}}function Bt(t){let e,n,i=t[18].description+"",s,l,a,h=t[18].priority+"",u,o,f,b=t[18].type+"",y,w,c,v=t[18].outcome+"",g,d,k,C=t[18].AIM+"",z,K;return{c(){e=m("tr"),n=m("td"),s=Y(i),l=E(),a=m("td"),u=Y(h),o=E(),f=m("td"),y=Y(b),w=E(),c=m("td"),g=Y(v),d=E(),k=m("td"),z=Y(C),K=E()},m(N,q){M(N,e,q),r(e,n),r(n,s),r(e,l),r(e,a),r(a,u),r(e,o),r(e,f),r(f,y),r(e,w),r(e,c),r(c,g),r(e,d),r(e,k),r(k,z),r(e,K)},p(N,q){q&1024&&i!==(i=N[18].description+"")&&ye(s,i),q&1024&&h!==(h=N[18].priority+"")&&ye(u,h),q&1024&&b!==(b=N[18].type+"")&&ye(y,b),q&1024&&v!==(v=N[18].outcome+"")&&ye(g,v),q&1024&&C!==(C=N[18].AIM+"")&&ye(z,C)},d(N){N&&T(e)}}}function ji(t){let e,n,i,s,l,a,h,u,o,f,b,y,w,c,v,g,d,k,C,z,K,N,q,_,p,S,R,I,j,V,ee,J,P,te,O,ie,x,H,ne,_e,X,ce,W,B,U,G,fe,ue,re,he,pe,ae,Se,ke,Oe,Ee,be,de,ve,ge=t[6]&&zt(t);ce=new ct({props:{handler:t[4],orderBy:"description",$$slots:{default:[Fi]},$$scope:{ctx:t}}}),B=new ct({props:{handler:t[4],orderBy:"priority",$$slots:{default:[Li]},$$scope:{ctx:t}}}),G=new ct({props:{handler:t[4],orderBy:"type",$$slots:{default:[Ni]},$$scope:{ctx:t}}}),ue=new ct({props:{handler:t[4],orderBy:"outcome",$$slots:{default:[Di]},$$scope:{ctx:t}}}),he=new ct({props:{handler:t[4],orderBy:"AIM",$$slots:{default:[Ui]},$$scope:{ctx:t}}});let se=Ce(t[10]),we=[];for(let L=0;L<se.length;L+=1)we[L]=Bt(jt(t,se,L));return{c(){e=m("div"),n=m("div"),i=m("h3"),i.textContent="Reflect on your project",s=E(),l=m("button"),l.textContent="ℹ",a=E(),ge&&ge.c(),h=E(),u=m("div"),o=m("h2"),f=Y("Case Study: "),b=Y(t[0]),y=E(),w=m("hr"),c=E(),v=m("h3"),v.textContent="Objectives:",g=E(),d=m("p"),k=Y(t[1]),C=E(),z=m("h3"),z.textContent="Stakeholders:",K=E(),N=m("p"),q=Y(t[2]),_=E(),p=m("h3"),p.textContent="Data used:",S=E(),R=m("p"),I=Y(t[3]),j=E(),V=m("h3"),V.textContent="Consequences",ee=E(),J=m("div"),P=m("button"),P.textContent="Act",te=E(),O=m("button"),O.textContent="Monitor",ie=E(),x=m("button"),x.textContent="Influence",H=E(),ne=m("table"),_e=m("thead"),X=m("tr"),Te(ce.$$.fragment),W=E(),Te(B.$$.fragment),U=E(),Te(G.$$.fragment),fe=E(),Te(ue.$$.fragment),re=E(),Te(he.$$.fragment),pe=E(),ae=m("tbody");for(let L=0;L<we.length;L+=1)we[L].c();Se=E(),ke=m("button"),ke.textContent="Print this page",Oe=E(),Ee=m("button"),Ee.textContent="Proceed to hypothesis",A(l,"class","info-button"),A(l,"title","Information"),A(n,"class","review-header header-btn"),A(u,"class","long-text-review"),A(P,"class","btn-white-styled"),De(P,"active",t[9].includes("Act")),A(O,"class","btn-white-styled"),De(O,"active",t[9].includes("Monitor")),A(x,"class","btn-white-styled"),De(x,"active",t[9].includes("Influence")),A(J,"class","filter-buttons"),A(e,"class","card"),A(ke,"class","btn-white-styled"),A(ke,"onclick","window.print()"),A(Ee,"class","btn-white-styled")},m(L,Z){M(L,e,Z),r(e,n),r(n,i),r(n,s),r(n,l),r(n,a),ge&&ge.m(n,null),r(e,h),r(e,u),r(u,o),r(o,f),r(o,b),r(u,y),r(u,w),r(u,c),r(u,v),r(u,g),r(u,d),r(d,k),r(u,C),r(u,z),r(u,K),r(u,N),r(N,q),r(u,_),r(u,p),r(u,S),r(u,R),r(R,I),r(u,j),r(u,V),r(e,ee),r(e,J),r(J,P),r(J,te),r(J,O),r(J,ie),r(J,x),r(J,H),r(J,ne),r(ne,_e),r(_e,X),Ie(ce,X,null),r(X,W),Ie(B,X,null),r(X,U),Ie(G,X,null),r(X,fe),Ie(ue,X,null),r(X,re),Ie(he,X,null),r(ne,pe),r(ne,ae);for(let Ae=0;Ae<we.length;Ae+=1)we[Ae]&&we[Ae].m(ae,null);M(L,Se,Z),M(L,ke,Z),M(L,Oe,Z),M(L,Ee,Z),be=!0,de||(ve=[Q(l,"click",t[11]),Q(P,"click",t[14]),Q(O,"click",t[15]),Q(x,"click",t[16]),Q(Ee,"click",t[12])],de=!0)},p(L,[Z]){L[6]?ge?(ge.p(L,Z),Z&64&&F(ge,1)):(ge=zt(L),ge.c(),F(ge,1),ge.m(n,null)):ge&&(ge.d(1),ge=null),(!be||Z&1)&&ye(b,L[0]),(!be||Z&2)&&ye(k,L[1]),(!be||Z&4)&&ye(q,L[2]),(!be||Z&8)&&ye(I,L[3]),(!be||Z&512)&&De(P,"active",L[9].includes("Act")),(!be||Z&512)&&De(O,"active",L[9].includes("Monitor")),(!be||Z&512)&&De(x,"active",L[9].includes("Influence"));const Ae={};Z&16&&(Ae.handler=L[4]),Z&2097152&&(Ae.$$scope={dirty:Z,ctx:L}),ce.$set(Ae);const Fe={};Z&16&&(Fe.handler=L[4]),Z&2097152&&(Fe.$$scope={dirty:Z,ctx:L}),B.$set(Fe);const Le={};Z&16&&(Le.handler=L[4]),Z&2097152&&(Le.$$scope={dirty:Z,ctx:L}),G.$set(Le);const Re={};Z&16&&(Re.handler=L[4]),Z&2097152&&(Re.$$scope={dirty:Z,ctx:L}),ue.$set(Re);const Ye={};if(Z&16&&(Ye.handler=L[4]),Z&2097152&&(Ye.$$scope={dirty:Z,ctx:L}),he.$set(Ye),Z&1024){se=Ce(L[10]);let me;for(me=0;me<se.length;me+=1){const at=jt(L,se,me);we[me]?we[me].p(at,Z):(we[me]=Bt(at),we[me].c(),we[me].m(ae,null))}for(;me<we.length;me+=1)we[me].d(1);we.length=se.length}},i(L){be||(F(ge),F(ce.$$.fragment,L),F(B.$$.fragment,L),F(G.$$.fragment,L),F(ue.$$.fragment,L),F(he.$$.fragment,L),be=!0)},o(L){le(ce.$$.fragment,L),le(B.$$.fragment,L),le(G.$$.fragment,L),le(ue.$$.fragment,L),le(he.$$.fragment,L),be=!1},d(L){L&&(T(e),T(Se),T(ke),T(Oe),T(Ee)),ge&&ge.d(),Pe(ce),Pe(B),Pe(G),Pe(ue),Pe(he),Ge(we,L),de=!1,Me(ve)}}}function zi(t,e,n){let i,s=$,l=()=>(s(),s=ht(z,p=>n(9,i=p)),z),a,h=$,u=()=>(h(),h=ht(K,p=>n(10,a=p)),K);t.$$.on_destroy.push(()=>s()),t.$$.on_destroy.push(()=>h());let o=!1;function f(){n(6,o=!o)}let{consequences:b}=e,{selectedStudy:y}=e,{objectives:w}=e,{stakeholders:c}=e,{dataUsed:v}=e;const g=Xe();function d(){g("proceed")}let k,C,z,K;const N=()=>C.set("Act",Qe.isEqualTo),q=()=>C.set("Monitor",Qe.isEqualTo),_=()=>C.set("Influence",Qe.isEqualTo);return t.$$set=p=>{"consequences"in p&&n(13,b=p.consequences),"selectedStudy"in p&&n(0,y=p.selectedStudy),"objectives"in p&&n(1,w=p.objectives),"stakeholders"in p&&n(2,c=p.stakeholders),"dataUsed"in p&&n(3,v=p.dataUsed)},t.$$.update=()=>{t.$$.dirty&8240&&(n(4,k=new An(b)),n(5,C=k.createAdvancedFilter("AIM")),l(n(7,z=C.getSelected())),u(n(8,K=k.getRows())))},[y,w,c,v,k,C,o,z,K,i,a,f,d,b,N,q,_]}class Bi extends je{constructor(e){super(),Ue(this,e,zi,ji,He,{consequences:13,selectedStudy:0,objectives:1,stakeholders:2,dataUsed:3})}}function Wt(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function Kt(t){let e,n,i,s,l,a,h,u;return{c(){e=m("div"),n=m("div"),i=m("span"),i.textContent="×",s=E(),l=m("p"),l.textContent="Input some text explaining this section",A(i,"class","close"),A(i,"role","button"),A(n,"class","modal-content"),A(e,"class","modal")},m(o,f){M(o,e,f),r(e,n),r(n,i),r(n,s),r(n,l),h||(u=Q(i,"click",t[10]),h=!0)},p:$,i(o){o&&(a||qe(()=>{a=tt(e,nt,{duration:300}),a.start()}))},o:$,d(o){o&&T(e),h=!1,u()}}}function Qt(t){let e,n=t[1]!==null&&Jt(t);return{c(){e=m("div"),n&&n.c(),A(e,"class","card attach-hypothesis")},m(i,s){M(i,e,s),n&&n.m(e,null)},p(i,s){i[1]!==null?n?n.p(i,s):(n=Jt(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(i){i&&T(e),n&&n.d()}}}function Jt(t){let e,n,i,s,l,a,h,u,o,f,b,y,w,c=t[7]&&Vt(t),v=Ce(t[2]),g=[];for(let d=0;d<v.length;d+=1)g[d]=Gt(Wt(t,v,d));return{c(){e=m("div"),n=m("h3"),n.textContent="Attach consequences",i=E(),s=m("button"),s.textContent="ℹ",l=E(),c&&c.c(),a=E(),h=m("div");for(let d=0;d<g.length;d+=1)g[d].c();u=E(),o=m("button"),o.textContent="Add another Hypothesis",f=E(),b=m("button"),b.textContent="Assign Actions",A(s,"class","info-button"),A(s,"title","Information"),A(e,"class","questions-header header-btn"),A(h,"class","consequences-checkbox"),A(o,"class","btn-white-styled"),A(b,"class","btn-white-styled")},m(d,k){M(d,e,k),r(e,n),r(e,i),r(e,s),r(e,l),c&&c.m(e,null),M(d,a,k),M(d,h,k);for(let C=0;C<g.length;C+=1)g[C]&&g[C].m(h,null);M(d,u,k),M(d,o,k),M(d,f,k),M(d,b,k),y||(w=[Q(s,"click",t[10]),Q(o,"click",function(){Ze(t[5])&&t[5].apply(this,arguments)}),Q(b,"click",t[9])],y=!0)},p(d,k){if(t=d,t[7]?c?(c.p(t,k),k&128&&F(c,1)):(c=Vt(t),c.c(),F(c,1),c.m(e,null)):c&&(c.d(1),c=null),k&28){v=Ce(t[2]);let C;for(C=0;C<v.length;C+=1){const z=Wt(t,v,C);g[C]?g[C].p(z,k):(g[C]=Gt(z),g[C].c(),g[C].m(h,null))}for(;C<g.length;C+=1)g[C].d(1);g.length=v.length}},d(d){d&&(T(e),T(a),T(h),T(u),T(o),T(f),T(b)),c&&c.d(),Ge(g,d),y=!1,Me(w)}}}function Vt(t){let e,n,i,s,l,a,h,u;return{c(){e=m("div"),n=m("div"),i=m("span"),i.textContent="×",s=E(),l=m("p"),l.textContent="Input some text explaining this section",A(i,"class","close"),A(i,"role","button"),A(n,"class","modal-content"),A(e,"class","modal")},m(o,f){M(o,e,f),r(e,n),r(n,i),r(n,s),r(n,l),h||(u=Q(i,"click",t[10]),h=!0)},p:$,i(o){o&&(a||qe(()=>{a=tt(e,nt,{duration:300}),a.start()}))},o:$,d(o){o&&T(e),h=!1,u()}}}function Gt(t){let e,n,i,s,l=t[16].description+"",a,h,u,o;function f(){return t[13](t[18])}return{c(){e=m("label"),n=m("input"),s=E(),a=Y(l),h=E(),A(n,"type","checkbox"),n.checked=i=t[3](t[18]),A(e,"class","checkbox-item")},m(b,y){M(b,e,y),r(e,n),r(e,s),r(e,a),r(e,h),u||(o=Q(n,"change",f),u=!0)},p(b,y){t=b,y&8&&i!==(i=t[3](t[18]))&&(n.checked=i),y&4&&l!==(l=t[16].description+"")&&ye(a,l)},d(b){b&&T(e),u=!1,o()}}}function Wi(t){let e,n,i,s,l,a,h,u,o,f,b,y,w,c,v,g,d=t[7]&&Kt(t),k=t[6]&&Qt(t);return{c(){e=m("div"),n=m("div"),i=m("h3"),i.textContent="Hypotheses",s=E(),l=m("button"),l.textContent="ℹ",a=E(),d&&d.c(),h=E(),u=m("textarea"),o=E(),f=m("button"),f.textContent="Add another Hypothesis",b=E(),y=m("button"),y.textContent="Attach Consequences",w=E(),k&&k.c(),c=At(),A(l,"class","info-button"),A(l,"title","Information"),A(n,"class","questions-header header-btn"),A(u,"class","textarea-padding"),A(f,"class","btn-white-styled"),A(y,"class","btn-white-styled"),A(e,"class","card"),A(e,"id","Hypothesis")},m(C,z){M(C,e,z),r(e,n),r(n,i),r(n,s),r(n,l),r(n,a),d&&d.m(n,null),r(e,h),r(e,u),oe(u,t[0]),r(e,o),r(e,f),r(e,b),r(e,y),M(C,w,z),k&&k.m(C,z),M(C,c,z),v||(g=[Q(l,"click",t[10]),Q(u,"input",t[12]),Q(f,"click",function(){Ze(t[5])&&t[5].apply(this,arguments)}),Q(y,"click",t[8])],v=!0)},p(C,[z]){t=C,t[7]?d?(d.p(t,z),z&128&&F(d,1)):(d=Kt(t),d.c(),F(d,1),d.m(n,null)):d&&(d.d(1),d=null),z&1&&oe(u,t[0]),t[6]?k?k.p(t,z):(k=Qt(t),k.c(),k.m(c.parentNode,c)):k&&(k.d(1),k=null)},i(C){F(d)},o:$,d(C){C&&(T(e),T(w),T(c)),d&&d.d(),k&&k.d(C),v=!1,Me(g)}}}function Ki(t,e,n){let{hypothesisText:i}=e,{currentHypothesisIndex:s}=e,{consequences:l}=e,{isChecked:a}=e,{onToggle:h}=e,{onAttach:u}=e,{onAddAnother:o}=e,f=!1;function b(){n(6,f=!0)}function y(){b(),u()}const w=Xe();function c(){w("proceed")}let v=!1;function g(){n(7,v=!v)}function d(){i=this.value,n(0,i)}const k=C=>h(C);return t.$$set=C=>{"hypothesisText"in C&&n(0,i=C.hypothesisText),"currentHypothesisIndex"in C&&n(1,s=C.currentHypothesisIndex),"consequences"in C&&n(2,l=C.consequences),"isChecked"in C&&n(3,a=C.isChecked),"onToggle"in C&&n(4,h=C.onToggle),"onAttach"in C&&n(11,u=C.onAttach),"onAddAnother"in C&&n(5,o=C.onAddAnother)},[i,s,l,a,h,o,f,v,y,c,g,u,d,k]}class Qi extends je{constructor(e){super(),Ue(this,e,Ki,Wi,He,{hypothesisText:0,currentHypothesisIndex:1,consequences:2,isChecked:3,onToggle:4,onAttach:11,onAddAnother:5})}}function Yt(t,e,n){const i=t.slice();return i[14]=e[n],i[15]=e,i[16]=n,i}function Zt(t){let e,n,i,s,l,a,h,u;return{c(){e=m("div"),n=m("div"),i=m("span"),i.textContent="×",s=E(),l=m("p"),l.textContent="Input some text explaining this section",A(i,"class","close"),A(n,"class","modal-content"),A(e,"class","modal")},m(o,f){M(o,e,f),r(e,n),r(n,i),r(n,s),r(n,l),h||(u=Q(i,"click",t[5]),h=!0)},p:$,i(o){o&&(a||qe(()=>{a=tt(e,nt,{duration:300}),a.start()}))},o:$,d(o){o&&T(e),h=!1,u()}}}function Xt(t){let e,n,i,s,l,a=t[14].text+"",h,u,o,f,b,y,w,c,v,g,d,k,C,z,K,N,q,_,p,S,R,I,j;function V(){t[7].call(y,t[15],t[16])}function ee(...ie){return t[8](t[16],...ie)}function J(){t[9].call(d,t[15],t[16])}function P(...ie){return t[10](t[16],...ie)}function te(){t[11].call(S,t[15],t[16])}function O(...ie){return t[12](t[16],...ie)}return{c(){e=m("div"),n=m("span"),i=m("h4"),i.textContent=`Hypothesis ${t[16]}`,s=E(),l=m("p"),h=Y(a),u=E(),o=m("div"),f=m("label"),b=Y(`Action
          `),y=m("textarea"),w=E(),c=m("div"),v=m("label"),g=Y(`Timescale
            `),d=m("select"),k=m("option"),k.textContent="Timescale",C=m("option"),C.textContent="3 months",z=m("option"),z.textContent="6 months",K=m("option"),K.textContent="1 year",N=m("option"),N.textContent="2 years",q=E(),_=m("label"),p=Y(`Measure
          `),S=m("input"),R=E(),A(n,"class","hypothesis-actions-container"),A(e,"class","long-text-review"),A(y,"class","consequence-input"),A(y,"placeholder","Enter action for this hypothesis"),A(f,"for","action"),k.disabled=!0,k.selected=!0,k.__value="",oe(k,k.__value),C.__value="3 months",oe(C,C.__value),z.__value="6 months",oe(z,z.__value),K.__value="1 year",oe(K,K.__value),N.__value="2 years",oe(N,N.__value),t[14].timescale===void 0&&qe(J),A(v,"for","timescale"),A(S,"class","consequence-input"),A(S,"type","text"),A(S,"placeholder","Enter measure for this hypothesis"),A(_,"for","measure"),A(c,"class","input-row"),A(o,"class","consequence-options")},m(ie,x){M(ie,e,x),r(e,n),r(n,i),r(n,s),r(n,l),r(l,h),M(ie,u,x),M(ie,o,x),r(o,f),r(f,b),r(f,y),oe(y,t[14].action),r(o,w),r(o,c),r(c,v),r(v,g),r(v,d),r(d,k),r(d,C),r(d,z),r(d,K),r(d,N),Ke(d,t[14].timescale,!0),r(c,q),r(c,_),r(_,p),r(_,S),oe(S,t[14].measure),r(o,R),I||(j=[Q(y,"input",V),Q(y,"input",ee),Q(d,"change",J),Q(d,"select",P),Q(S,"input",te),Q(S,"input",O)],I=!0)},p(ie,x){t=ie,x&1&&a!==(a=t[14].text+"")&&ye(h,a),x&1&&oe(y,t[14].action),x&1&&Ke(d,t[14].timescale),x&1&&S.value!==t[14].measure&&oe(S,t[14].measure)},d(ie){ie&&(T(e),T(u),T(o)),I=!1,Me(j)}}}function Ji(t){let e,n,i,s,l,a,h,u,o,f,b,y=t[4]&&Zt(t),w=Ce(t[0]),c=[];for(let v=0;v<w.length;v+=1)c[v]=Xt(Yt(t,w,v));return{c(){e=m("div"),n=m("div"),i=m("h3"),i.textContent="Assign Actions to Hypotheses",s=E(),l=m("button"),l.textContent="ℹ",a=E(),y&&y.c(),h=E();for(let v=0;v<c.length;v+=1)c[v].c();u=E(),o=m("button"),o.textContent="View Data in Table Format",A(l,"class","info-button"),A(l,"title","Information"),A(n,"class","actions-header header-btn"),A(e,"class","card"),A(o,"class","btn-white-styled")},m(v,g){M(v,e,g),r(e,n),r(n,i),r(n,s),r(n,l),r(n,a),y&&y.m(n,null),r(e,h);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(e,null);M(v,u,g),M(v,o,g),f||(b=[Q(l,"click",t[5]),Q(o,"click",t[6])],f=!0)},p(v,[g]){if(v[4]?y?(y.p(v,g),g&16&&F(y,1)):(y=Zt(v),y.c(),F(y,1),y.m(n,null)):y&&(y.d(1),y=null),g&15){w=Ce(v[0]);let d;for(d=0;d<w.length;d+=1){const k=Yt(v,w,d);c[d]?c[d].p(k,g):(c[d]=Xt(k),c[d].c(),c[d].m(e,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=w.length}},i(v){F(y)},o:$,d(v){v&&(T(e),T(u),T(o)),y&&y.d(),Ge(c,v),f=!1,Me(b)}}}function Vi(t,e,n){let{hypotheses:i}=e,{onSetAction:s}=e,{onSetTimeline:l}=e,{onSetMeasure:a}=e,h=!1;function u(){n(4,h=!h)}const o=Xe();function f(){o("proceed")}function b(d,k){d[k].action=this.value,n(0,i)}const y=(d,k)=>s(d,k.target.value);function w(d,k){d[k].timescale=ft(this),n(0,i)}const c=(d,k)=>l(d,k.target.value);function v(d,k){d[k].measure=this.value,n(0,i)}const g=(d,k)=>a(d,k.target.value);return t.$$set=d=>{"hypotheses"in d&&n(0,i=d.hypotheses),"onSetAction"in d&&n(1,s=d.onSetAction),"onSetTimeline"in d&&n(2,l=d.onSetTimeline),"onSetMeasure"in d&&n(3,a=d.onSetMeasure)},[i,s,l,a,h,u,f,b,y,w,c,v,g]}class Gi extends je{constructor(e){super(),Ue(this,e,Vi,Ji,He,{hypotheses:0,onSetAction:1,onSetTimeline:2,onSetMeasure:3})}}function $t(t,e,n){const i=t.slice();return i[4]=e[n],i[5]=e,i[6]=n,i}function xt(t){let e,n,i,s=t[4].label+"",l,a,h;function u(){t[2].call(n,t[5],t[6])}return{c(){e=m("label"),n=m("input"),i=E(),l=Y(s),A(n,"type","checkbox")},m(o,f){M(o,e,f),r(e,n),n.checked=t[4].selected,r(e,i),r(e,l),a||(h=Q(n,"change",u),a=!0)},p(o,f){t=o,f&1&&(n.checked=t[4].selected),f&1&&s!==(s=t[4].label+"")&&ye(l,s)},d(o){o&&T(e),a=!1,h()}}}function Yi(t){let e,n,i,s,l,a,h,u=Ce(t[0]),o=[];for(let f=0;f<u.length;f+=1)o[f]=xt($t(t,u,f));return{c(){e=m("div"),n=m("h3"),n.textContent="Select columns to export:",i=E();for(let f=0;f<o.length;f+=1)o[f].c();s=E(),l=m("button"),l.textContent="Export Selected Columns",A(e,"class","modal svelte-1q0rfdz")},m(f,b){M(f,e,b),r(e,n),r(e,i);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(e,null);r(e,s),r(e,l),a||(h=Q(l,"click",t[1]),a=!0)},p(f,[b]){if(b&1){u=Ce(f[0]);let y;for(y=0;y<u.length;y+=1){const w=$t(f,u,y);o[y]?o[y].p(w,b):(o[y]=xt(w),o[y].c(),o[y].m(e,s))}for(;y<o.length;y+=1)o[y].d(1);o.length=u.length}},i:$,o:$,d(f){f&&T(e),Ge(o,f),a=!1,h()}}}function Zi(t,e,n){const i=Xe();let s=[{label:"Hypothesis",selected:!0},{label:"Consequences",selected:!0},{label:"Action",selected:!0},{label:"Measure",selected:!0},{label:"Timescale",selected:!0}];function l(){const h=s.filter(u=>u.selected).map(u=>u.label);i("export",h)}function a(h,u){h[u].selected=this.checked,n(0,s)}return[s,l,a]}class Xi extends je{constructor(e){super(),Ue(this,e,Zi,Yi,He,{})}}function en(t,e,n){const i=t.slice();return i[4]=e[n],i}function tn(t,e,n){const i=t.slice();return i[7]=e[n],i}function nn(t){let e,n=t[7].description+"",i,s,l=t[7].type+"",a,h,u=t[7].priority+"",o,f,b=t[7].outcome+"",y,w,c=t[7].AIM+"",v;return{c(){e=m("div"),i=Y(n),s=E(),a=Y(l),h=E(),o=Y(u),f=E(),y=Y(b),w=E(),v=Y(c)},m(g,d){M(g,e,d),r(e,i),r(e,s),r(e,a),r(e,h),r(e,o),r(e,f),r(e,y),r(e,w),r(e,v)},p(g,d){d&2&&n!==(n=g[7].description+"")&&ye(i,n),d&2&&l!==(l=g[7].type+"")&&ye(a,l),d&2&&u!==(u=g[7].priority+"")&&ye(o,u),d&2&&b!==(b=g[7].outcome+"")&&ye(y,b),d&2&&c!==(c=g[7].AIM+"")&&ye(v,c)},d(g){g&&T(e)}}}function sn(t){let e,n,i=t[4].text+"",s,l,a,h,u,o=t[4].action+"",f,b,y,w=t[4].measure+"",c,v,g,d=t[4].timescale+"",k,C,z=Ce(t[4].consequences),K=[];for(let N=0;N<z.length;N+=1)K[N]=nn(tn(t,z,N));return{c(){e=m("tr"),n=m("td"),s=Y(i),l=E(),a=m("td");for(let N=0;N<K.length;N+=1)K[N].c();h=E(),u=m("td"),f=Y(o),b=E(),y=m("td"),c=Y(w),v=E(),g=m("td"),k=Y(d),C=E()},m(N,q){M(N,e,q),r(e,n),r(n,s),r(e,l),r(e,a);for(let _=0;_<K.length;_+=1)K[_]&&K[_].m(a,null);r(e,h),r(e,u),r(u,f),r(e,b),r(e,y),r(y,c),r(e,v),r(e,g),r(g,k),r(e,C)},p(N,q){if(q&2&&i!==(i=N[4].text+"")&&ye(s,i),q&2){z=Ce(N[4].consequences);let _;for(_=0;_<z.length;_+=1){const p=tn(N,z,_);K[_]?K[_].p(p,q):(K[_]=nn(p),K[_].c(),K[_].m(a,null))}for(;_<K.length;_+=1)K[_].d(1);K.length=z.length}q&2&&o!==(o=N[4].action+"")&&ye(f,o),q&2&&w!==(w=N[4].measure+"")&&ye(c,w),q&2&&d!==(d=N[4].timescale+"")&&ye(k,d)},d(N){N&&T(e),Ge(K,N)}}}function ln(t){let e,n;return e=new Xi({}),e.$on("export",function(){Ze(t[2])&&t[2].apply(this,arguments)}),{c(){Te(e.$$.fragment)},m(i,s){Ie(e,i,s),n=!0},p(i,s){t=i},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Pe(e,i)}}}function $i(t){let e,n,i,s,l,a,h,u,o,f,b,y=Ce(t[1]),w=[];for(let v=0;v<y.length;v+=1)w[v]=sn(en(t,y,v));let c=t[0]&&ln(t);return{c(){e=m("table"),n=m("thead"),n.innerHTML="<tr><th>Hypothesis</th> <th>Consequences</th> <th>Action</th> <th>Measure</th> <th>Timescale</th></tr>",i=E(),s=m("tbody");for(let v=0;v<w.length;v+=1)w[v].c();l=E(),a=m("button"),a.textContent="Export CSV",h=E(),c&&c.c(),u=At(),A(e,"class","data-table")},m(v,g){M(v,e,g),r(e,n),r(e,i),r(e,s);for(let d=0;d<w.length;d+=1)w[d]&&w[d].m(s,null);M(v,l,g),M(v,a,g),M(v,h,g),c&&c.m(v,g),M(v,u,g),o=!0,f||(b=Q(a,"click",t[3]),f=!0)},p(v,[g]){if(g&2){y=Ce(v[1]);let d;for(d=0;d<y.length;d+=1){const k=en(v,y,d);w[d]?w[d].p(k,g):(w[d]=sn(k),w[d].c(),w[d].m(s,null))}for(;d<w.length;d+=1)w[d].d(1);w.length=y.length}v[0]?c?(c.p(v,g),g&1&&F(c,1)):(c=ln(v),c.c(),F(c,1),c.m(u.parentNode,u)):c&&(Je(),le(c,1,1,()=>{c=null}),Ve())},i(v){o||(F(c),o=!0)},o(v){le(c),o=!1},d(v){v&&(T(e),T(l),T(a),T(h),T(u)),Ge(w,v),c&&c.d(v),f=!1,b()}}}function xi(t,e,n){let{hypotheses:i}=e,{onExport:s}=e,{showModal:l}=e;const a=()=>{n(0,l=!0)};return t.$$set=h=>{"hypotheses"in h&&n(1,i=h.hypotheses),"onExport"in h&&n(2,s=h.onExport),"showModal"in h&&n(0,l=h.showModal)},[l,i,s,a]}class es extends je{constructor(e){super(),Ue(this,e,xi,$i,He,{hypotheses:1,onExport:2,showModal:0})}}function rn(t){let e,n,i;function s(a){t[33](a)}let l={onUpload:t[28]};return t[1]!==void 0&&(l.selectedFile=t[1]),e=new Ei({props:l}),wt.push(()=>ni(e,"selectedFile",s)),e.$on("proceed",t[17]),{c(){Te(e.$$.fragment)},m(a,h){Ie(e,a,h),i=!0},p(a,h){const u={};!n&&h[0]&2&&(n=!0,u.selectedFile=a[1],Xn(()=>n=!1)),e.$set(u)},i(a){i||(F(e.$$.fragment,a),i=!0)},o(a){le(e.$$.fragment,a),i=!1},d(a){Pe(e,a)}}}function on(t){let e,n;return e=new Ci({props:{preLoadedStudies:t[15]}}),e.$on("proceed",t[29]),{c(){Te(e.$$.fragment)},m(i,s){Ie(e,i,s),n=!0},p:$,i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Pe(e,i)}}}function an(t){let e,n;return e=new Pi({props:{objectives:Et,stakeholders:Rt,dataUsed:It}}),e.$on("proceed",t[18]),{c(){Te(e.$$.fragment)},m(i,s){Ie(e,i,s),n=!0},p:$,i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Pe(e,i)}}}function un(t){let e,n;return e=new Mi({props:{consequences:t[14],onAdd:t[30]}}),e.$on("proceed",t[19]),{c(){Te(e.$$.fragment)},m(i,s){Ie(e,i,s),n=!0},p(i,s){const l={};s[0]&16384&&(l.consequences=i[14]),e.$set(l)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Pe(e,i)}}}function cn(t){let e,n;return e=new Bi({props:{objectives:Et,stakeholders:Rt,dataUsed:It,consequences:t[14],selectedStudy:t[13]}}),e.$on("proceed",t[16]),{c(){Te(e.$$.fragment)},m(i,s){Ie(e,i,s),n=!0},p(i,s){const l={};s[0]&16384&&(l.consequences=i[14]),s[0]&8192&&(l.selectedStudy=i[13]),e.$set(l)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Pe(e,i)}}}function fn(t){let e,n;return e=new Qi({props:{currentHypothesisIndex:t[12],onAttach:t[26],hypothesisText:t[11],consequences:t[14],isChecked:t[21],onToggle:t[31],onAddAnother:t[27]}}),e.$on("proceed",t[22]),{c(){Te(e.$$.fragment)},m(i,s){Ie(e,i,s),n=!0},p(i,s){const l={};s[0]&4096&&(l.currentHypothesisIndex=i[12]),s[0]&2048&&(l.hypothesisText=i[11]),s[0]&16384&&(l.consequences=i[14]),e.$set(l)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Pe(e,i)}}}function dn(t){let e,n;return e=new Gi({props:{hypotheses:t[10],onSetTimeline:t[24],onSetAction:t[23],onSetMeasure:t[25],onViewTable:t[20]}}),e.$on("proceed",t[20]),{c(){Te(e.$$.fragment)},m(i,s){Ie(e,i,s),n=!0},p(i,s){const l={};s[0]&1024&&(l.hypotheses=i[10]),e.$set(l)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Pe(e,i)}}}function hn(t){let e,n;return e=new es({props:{onExport:t[32],hypotheses:t[10],showModal:t[0]}}),{c(){Te(e.$$.fragment)},m(i,s){Ie(e,i,s),n=!0},p(i,s){const l={};s[0]&1024&&(l.hypotheses=i[10]),s[0]&1&&(l.showModal=i[0]),e.$set(l)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Pe(e,i)}}}function ts(t){let e,n,i,s,l,a,h,u,o,f=t[6]&&rn(t),b=t[2]&&on(t),y=t[3]&&an(t),w=t[7]&&un(t),c=t[4]&&cn(t),v=t[5]&&fn(t),g=t[8]&&dn(t),d=t[9]&&hn(t);return{c(){f&&f.c(),e=E(),b&&b.c(),n=E(),y&&y.c(),i=E(),w&&w.c(),s=E(),c&&c.c(),l=E(),v&&v.c(),a=E(),g&&g.c(),h=E(),d&&d.c(),u=At()},m(k,C){f&&f.m(k,C),M(k,e,C),b&&b.m(k,C),M(k,n,C),y&&y.m(k,C),M(k,i,C),w&&w.m(k,C),M(k,s,C),c&&c.m(k,C),M(k,l,C),v&&v.m(k,C),M(k,a,C),g&&g.m(k,C),M(k,h,C),d&&d.m(k,C),M(k,u,C),o=!0},p(k,C){k[6]?f?(f.p(k,C),C[0]&64&&F(f,1)):(f=rn(k),f.c(),F(f,1),f.m(e.parentNode,e)):f&&(Je(),le(f,1,1,()=>{f=null}),Ve()),k[2]?b?(b.p(k,C),C[0]&4&&F(b,1)):(b=on(k),b.c(),F(b,1),b.m(n.parentNode,n)):b&&(Je(),le(b,1,1,()=>{b=null}),Ve()),k[3]?y?(y.p(k,C),C[0]&8&&F(y,1)):(y=an(k),y.c(),F(y,1),y.m(i.parentNode,i)):y&&(Je(),le(y,1,1,()=>{y=null}),Ve()),k[7]?w?(w.p(k,C),C[0]&128&&F(w,1)):(w=un(k),w.c(),F(w,1),w.m(s.parentNode,s)):w&&(Je(),le(w,1,1,()=>{w=null}),Ve()),k[4]?c?(c.p(k,C),C[0]&16&&F(c,1)):(c=cn(k),c.c(),F(c,1),c.m(l.parentNode,l)):c&&(Je(),le(c,1,1,()=>{c=null}),Ve()),k[5]?v?(v.p(k,C),C[0]&32&&F(v,1)):(v=fn(k),v.c(),F(v,1),v.m(a.parentNode,a)):v&&(Je(),le(v,1,1,()=>{v=null}),Ve()),k[8]?g?(g.p(k,C),C[0]&256&&F(g,1)):(g=dn(k),g.c(),F(g,1),g.m(h.parentNode,h)):g&&(Je(),le(g,1,1,()=>{g=null}),Ve()),k[9]?d?(d.p(k,C),C[0]&512&&F(d,1)):(d=hn(k),d.c(),F(d,1),d.m(u.parentNode,u)):d&&(Je(),le(d,1,1,()=>{d=null}),Ve())},i(k){o||(F(f),F(b),F(y),F(w),F(c),F(v),F(g),F(d),o=!0)},o(k){le(f),le(b),le(y),le(w),le(c),le(v),le(g),le(d),o=!1},d(k){k&&(T(e),T(n),T(i),T(s),T(l),T(a),T(h),T(u)),f&&f.d(k),b&&b.d(k),y&&y.d(k),w&&w.d(k),c&&c.d(k),v&&v.d(k),g&&g.d(k),d&&d.d(k)}}}let Et="",Rt="",It="";function ns(t,e,n){let i=!1,s,l=!1,a=!1,h=!1,u=!1,o=!0,f=!1,b=!1,y=!1,w=[],c="",v=null,g=[],d,k=["Case Study 1","Case Study 2","Case Study 3"],C=[{description:"",type:"I/U",priority:"H/M/L",outcome:"+/-",AIM:"Act/Influence/Monitor"}];const z=new An(C);z.createAdvancedFilter("AIM").getSelected(),z.getRows();function N(){n(4,h=!1),n(5,u=!0)}function q(){localStorage.setItem("objectives",Et),localStorage.setItem("stakeholders",Rt),localStorage.setItem("dataUsed",It),n(3,a=!1)}function _(){n(6,o=!1),n(2,l=!0)}function p(){q(),n(2,l=!1),n(7,f=!0)}function S(){localStorage.setItem("consequences",JSON.stringify(C)),n(7,f=!1),n(4,h=!0)}function R(W){const B=yi.unparse(W),U=window.URL.createObjectURL(new Blob([B],{type:"text/csv"}));window.open(U)}function I(){n(9,y=!0)}function j(W){return g.includes(W)}function V(){n(8,b=!0)}function ee(W,B){n(10,w[W].action=B,w),console.log(`Action for hypothesis ${W}:`,B)}function J(W,B){n(10,w[W].timeline=B,w),console.log(`timeline for hypothesis ${W}:`,B)}function P(W,B){n(10,w[W].measure=B,w),console.log(`measure for hypothesis ${W}:`,B)}function te(){const W=w[v];W.consequences=g.map(B=>C[B]),console.log("Updated hypothesis consequences:",W)}function O(){w.push({text:c,consequences:[]}),n(12,v=w.length-1),g=[]}function ie(){n(11,c=""),n(12,v=null),g=[]}function x(){if(!s){alert("No file selected!");return}console.log(`Uploading ${s.name}...`),setTimeout(()=>{console.log(`Successfully uploaded ${s.name}`),alert(`Successfully uploaded ${s.name}`)},2e3),n(3,a=!0)}function H(W){const B=W.detail.study;n(13,d=B),alert(`You have selected ${d}`),n(2,l=!1),n(3,a=!0)}function ne(){n(14,C=[...C,{description:"",type:"",outcome:"",priority:"",AIM:""}])}function _e(W){const B=g.indexOf(W);B===-1?g.push(W):g.splice(B,1),te()}function X(){const W=w.map(({text:B,consequences:U,action:G,measure:fe,timescale:ue})=>({Hypothesis:B,Consequences:U.map(({description:re,type:he,priority:pe,outcome:ae,AIM:Se})=>`${re}, ${he}, ${pe}, ${ae}, ${Se}`).join(" | "),Action:G,Measure:fe,Timescale:ue}));if(C.length>0){const B=C.map(({description:U,type:G,priority:fe,outcome:ue,AIM:re})=>({Hypothesis:"No Hypothesis",Consequences:`${U}, ${G}, ${fe}, ${ue}, ${re}`}));W.push(...B)}R(W),n(0,i=!1)}function ce(W){s=W,n(1,s)}return[i,s,l,a,h,u,o,f,b,y,w,c,v,d,C,k,N,_,p,S,I,j,V,ee,J,P,O,ie,x,H,ne,_e,X,ce]}class is extends je{constructor(e){super(),Ue(this,e,ns,ts,He,{},null,[-1,-1])}}function pn(t,e,n){const i=t.slice();return i[1]=e[n],i}function _n(t){let e,n=t[1].name+"",i;return{c(){e=m("a"),i=Y(n),A(e,"href",`#${t[1].id}`),A(e,"class","section-link "+(t[1].visible?"visible":""))},m(s,l){M(s,e,l),r(e,i)},p:$,d(s){s&&T(e)}}}function ss(t){let e,n,i,s,l,a,h,u,o,f,b,y=Ce(t[0]),w=[];for(let c=0;c<y.length;c+=1)w[c]=_n(pn(t,y,c));return f=new is({}),{c(){e=m("div");for(let c=0;c<w.length;c+=1)w[c].c();n=E(),i=m("div"),s=m("img"),a=E(),h=m("h1"),h.textContent="Interactive consequence scanning",u=E(),o=m("div"),Te(f.$$.fragment),A(s,"alt","hi"),qn(s.src,l=ls)||A(s,"src",l),A(i,"class","logo"),A(e,"class","navbar"),A(h,"id","title"),A(o,"id","main-container")},m(c,v){M(c,e,v);for(let g=0;g<w.length;g+=1)w[g]&&w[g].m(e,null);r(e,n),r(e,i),r(i,s),M(c,a,v),M(c,h,v),M(c,u,v),M(c,o,v),Ie(f,o,null),b=!0},p(c,[v]){if(v&1){y=Ce(c[0]);let g;for(g=0;g<y.length;g+=1){const d=pn(c,y,g);w[g]?w[g].p(d,v):(w[g]=_n(d),w[g].c(),w[g].m(e,n))}for(;g<w.length;g+=1)w[g].d(1);w.length=y.length}},i(c){b||(F(f.$$.fragment,c),b=!0)},o(c){le(f.$$.fragment,c),b=!1},d(c){c&&(T(e),T(a),T(h),T(u),T(o)),Ge(w,c),Pe(f)}}}let ls="/odi-logo.png";function rs(t){return[[{id:"Questions",name:"Questions",visible:!1},{id:"Consequences",name:"Consequences",visible:!1},{id:"Review",name:"Review",visible:!1},{id:"Hypothesis",name:"Hypothesis",visible:!1},{id:"Categorization",name:"Categorization",visible:!1}]]}class os extends je{constructor(e){super(),Ue(this,e,rs,ss,He,{})}}new os({target:document.getElementById("app")});
